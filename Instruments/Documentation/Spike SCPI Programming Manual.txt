 
  
SpikeTM SCPI Programming Manual  
User Guide     
 
2 
  
 
SpikeTM SCPI Programming Manual  
 
 
 
 
 
Published 7/1/2024  
©2024 , Signal Hound  
1502 SE Commerce Ave, Suite 101  
Battle Ground, WA  
Phone 360 -217-0112  
 
     
 
3 
 Contents  
1 Version Notes  ................................ ................................ ................................ ................................ ...........  5 
2 Introduction / About SCPI  ................................ ................................ ................................ .......................  5 
3 SCPI command basics  ................................ ................................ ................................ .............................  5 
 
 
 
 
 
4 Getting Started  ................................ ................................ ................................ ................................ .........  8 
5 Functionality provided through SCPI  ................................ ................................ ................................ .... 9 
6 Examples  ................................ ................................ ................................ ................................ ................  10 
7 Functions  ................................ ................................ ................................ ................................ ................  10 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
4 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
    
 
5 
 
 
 
 
 
 
 
 
 
1 Version Notes  
SCPI commands can and will change as the Spike software evolves. It is recommended that when 
you update Spike in an installation that is controlled via SCPI, to review the version notes and 
determine if any functionality needs to be updated. See the separa te document title 
scpi_version_notes.txt  for a full list of changes for each version of the Spike software.  
2 Introduction / About SCPI  
SCPI (Standard Commands for Programmable Instruments) is a standard which covers the set 
of commands  used to program various instruments. The standard covers the syntax, form, 
behavior, etc. of these commands in an attempt  to reduce development time for the user.  
For the purposes of Signal Hound and the Spike software, a user can send SCPI commands to 
Spike to control and make measurements using the Spike software in an automatic fashion. SCPI 
commands are sent to instruments over many interfaces, commonly GPIB, VX I, USB, Ethernet, 
etc. The Spike software accepts command s over a network socket. The Spike software will accept 
a single network connection in which it can receive SCPI commands and sen d responses.  
This do cument will cover the basics of SCPI commands, how to get started programming the 
Spike software, and will cover the full SCPI command set implemented by the Spike software.  
3 SCPI command basics  
This section co ntains a quick overview of the SCPI com mand syntax and usage to the extent that 
is relevant to the Spike software. Spike does not utilize all functionality in the SCPI standard and 
as such said functionality will not be covered here.     
 
6 
 3.1 Commands  
A SCPI command is comprised of a series of keywords separated by colons. A command may be 
followed by a ‘?’ to represent a query, a series of paramete rs separated by spaces, or both.  
:SENSE:FREQUENCY:CENTER 1GHz   (Example command  for setting the center frequency to 
1GHz)  
:sense:frequency:center?   (Example command for querying the current center frequency)  
Commands are case insensitive. Each keyword in a command can have a short and long form. 
Both can be used interchangeably.  
:SENSe:FREQuency:CENTer  is a command with three keywords . Each keyword has a short 
and long form. The short form is  denoted by the uppercase characters and the long form is the 
full keyword including the upper and lower -case characters. For example, FREQ is the short form 
of FREQUENCY. When constructing a command, the short and long form can be interchanged. 
For exampl e, you could construct the command as such, :SENS:FREQUENCY:CENT  where 
SENSE and CENTER are sent as short form and FREQUENCY as longform.  
Some commands are options and are denoted as such by the ‘[]’ characters.  
[:SENSe]:FREQuency:CENTer  is a command where the first keyword is optional . This 
command can be sent as FREQ:CENT  and still be interpreted correctly.  
Commands are terminated with a newline character. For example  
:SENS:FREQ:CENT 1GHZ \n 
Spike will begin processing the commands once a newline is reached. Additionally,  a newline will 
reset the current keyword path.  
3.2 Multiple commands  
Multiple commands can be sent to the device at once using the semi colon character separating 
each command.  
:SENS:FREQ:CENT 1GHz; : SENS:FREQ:SPAN 10MHz \n  
This is an example of sending two commands at once. Additionally, when sending multiple 
commands, you don’t need to repeat all keywords leading up to the final keyword for commands 
after the first.  
:SENS:FREQ:CENT 1GHz; SPAN 10MHz \n    
 
7 
 Here SPAN  retains the :SENS:FREQ : keywords from the previous command. To prevent this from 
happening use the colon character leading the second command. For example  
:SENS:FREQ:CENT 1GHz; :SPAN 10MHz \n 
This i s an invalid series of commands, since span is prefixed with a colon command which reset 
the previous keywords.  
3.3 Parameters  
There are several types of parameters that can be sent in commands.  
Boolean  ON | OFF | 0 | 1  
Keyword  
<bool>  Character specific strings for a given command. These keywords can also 
have short and long form.  
Numeric  
<integer>  
<double>  Numeric parameters take either the form of integer or decimal values. 
Examples include  
1 
1.23 
9 
3.14  
Frequency  
<freq>  These are numeric parameters with a frequency suffix. Possible frequency 
suffixes include  
HZ | KHZ | MHZ | GHZ  
The suffixes are case insensitive. If a suffix is not present, Hz is the default 
unit.  Examples include  
1kHz 
20MHz 
12GHz 
Any function that returns a frequency will return the frequency in Hz with no 
suffix present.  
Amplitude  
<amplitude>  These are numeric parameters with an amplitude suffix. Possible amplitude 
suffixes include  
DBM | DBMV | DBUV | MV  
The suffixes are case insensitive. A suffix must be present unless indicated 
otherwise. Examples include  
-20DBM 
60dbuv  
If a function returns an amplitude, it will return the amplitude in the current 
software units without a suffix.  
 
3.4 Return Values  
Values returned from the Spike software (as a result of sending a query command) are separated 
by a semi -colon if multiple query commands are sent in one string and are terminated by a 
newline. For example, sending     
 
8 
 “CALC:MARK:MAX; X?; Y? \n” 
results in a return string of  
“1000000; -20\n” 
The command sent performs a peak search and queries the X and Y positions of the marker . The 
return is the X and Y positions separated by a semicolon and terminated with a newline.  
3.5 Special Characters  
This section describes the numerous special characters that are present in the commands in this 
document.  
Character  Description  Example  
| Vertical stroke between parameters indicates 
multiple choices  FLATtop | GAUSsian  
 
The choices are between FLATTOP or 
GAUSSIAN. Provide one or the other.  
[ ] Square brackets indicate an optional keyword  :SYSTem:ERRor[:NEXT]?  
 
Next is an optional keyword and the 
command could also be composed as  
 
:SYSTem:ERRor?  
<> Angle brackets around a parameter indicate a 
type and angle brackets should not be 
included in the user command.  *RCL <int>  
 
<int> is the type of parameter and an 
example of using this  command would 
be 
 
*RCL 1 
 
Notice the angle brackets are not 
included.  
4 Getting Started  
See the SCPI examples found in the SDK download on any of the Signal Hound product download 
pages.  The examples use the C programming language and a common VISA library 
implementation.  
Instrument control is performed by connecting to the Spike software on TCP/IP port 5025. On this 
port, a user can send  and receive raw SCPI commands.  It is not necessary to use a I/O library    
 
9 
 like VISA to communicate with the Spike software but it can simplify several operations. It is 
possible to communicate directly over the socket with socket programming. The computer that is 
communicating with the Spike software does not have to be the same  computer running the Spike 
software and does not have to be a Windows platform.   
It is recommended to use a VISA library if available.  Several implementations of VISA exist. 
Commonly used ones include Keysight’s  I/O libraries, and NI’s VISA libraries. You can also use 
VISA implementations that exist in other languages/environments such as MATLAB, LabVIEW, 
and Python.  
Connecting to the socket interface using VISA looks like this  
viOpen(rm, “TCPIP::localhost ::5025::SOCKET”, VI_NULL, VI_NULL, &inst);  
Additionally,  when using a VISA library, it is necessary to set the VI_ATTR_TERMCHAR_EN 
attribute to true. This will terminate the read operation when the termination character is received. 
The termination character should be set to the newline (‘ \n’) character if it is not set by default.  
The code for this is below.  
viSetAttribute(inst, VI_ATTR_TERMCHAR_EN, VI_TRUE);  
viSetAttribute(inst, VI_ATTR_TERMCHAR, ' \n'); 
Only one connection to the Spike software can be active at a time. The connection can be 
terminated by either closing the socket connection, either through the socket library you are using, 
the viClose function if you are using a VISA library, or by closin g your application.  Spike will 
immediately begin  waiting for another socket connection when the previous one is ended.  
5 Functionality provided through SCPI  
The table below details what functionality is covered under the  current  SCPI command set. 
Functionality will be added over time. If functionality you need it not available, please contact us 
at aj@signalhound.com  to make requests.  
Functionality  Implemented  
Swept Analysis – Sweep Settings  Yes 
Swept Analysis – Trace controls  Yes 
Swept Analysis – Marker controls  Yes 
Swept Analysis – Channel power, occupied bandwidth  Yes 
Swept Analysis – Peak table  Yes    
 
10 
 Swept Analysis – Sweep recording/playback  Yes 
Path Loss Tables  Yes 
Limit Lines  Yes 
Spectrogram/ Waterfall plot controls  No 
Persistence display controls  No 
Real-Time  
(Since real-time shares several controls with swept analysis, a ny functionality 
provided for swept analysis will be available for real -time measurement mode)  Partial  
Zero-Span  Partial  
(I/Q captures only)  
Harmonic Measurements  Yes 
Scalar Network Analysis  Yes 
Phase Noise Measurements  Yes 
Digital Modulation Analysis  Yes 
EMC Precompliance  No 
Analog Demodulation  Yes 
Interference Hunting  No 
Spectrum Emission Mask  Yes 
Noise Figure  Yes 
BLE Analysis  Yes 
WLAN Modulation Analysis  Yes 
LTE Yes 
VCO Characterization  Yes 
6 Examples  
All SCPI examples are provided in the API SDK download which can be downloaded on any of 
the device download pages on the Signal Hound website.  
7 Functions  
7.1 Display  
Command  :DISPlay:HIDE <bool>  
:DISPlay:HIDE?  
:DISPlay:ANNotation:TITLe <string>  
:DISPlay:ANNotation:TITLe?  
:DISPlay:ANNotation:CLEar  
Description  HIDE, When set to true, hides the Spike application. The application will be hidden 
in the taskbar but will continue to be visible in the task manager. The SCPI lockout    
 
11 
 dialog , device connecting progress dialog, no device connected alert dialog and 
multiple devices connected  alert dialog will be hidden, overriding related settings in 
the preferences menu . 
HIDE? , Returns true when the application is not visible.  
TITLe , Set the measurement title.  
CLEar , Remove the title. Has the same effect as setting the title with an empty 
string.  
Example s DISP:HIDE 1  
DISP:HIDE?  
DISP:ANN:TITLE “Current Measurement”  
DISP:ANN:TITLE? 
DISPLAY:ANN OTATION:CLEAR 
Software  
Controls  File Menu -> Edit -> Title  
File Menu -> Edit -> Clear Title  
Couplings  None   
Preset  Default is no title  
Notes   
 
7.2 Common Commands  
The Spike software supports the following common commands.  
Command  *IDN? 
*OPC 
*OPC? 
*RCL <int>  
*SAV <int>  
*RST 
Description  *IDN? , Query the serial number and name of the device.  
*OPC , Waits  for the current operation to complete before processing the next 
command. See the Mode/Measurements section for more information on the OPC 
command.  
*OPC? , Wait for the current operation to complete before processing the next 
command. Returns 1 when the operation completes. See the Mode/Measurements 
section for more information on the OPC command.  
*RCL , Load preset [1 -9]. 
*SAV , Save preset [1 -9]. 
*RST , Same as PRESet , see below.  
Example s *IDN? 
*OPC? 
*RCL 1 
*SAV 1 
Software  
Controls  Status Bar  
File Menu -> Presets -> Load  
File Menu -> Presets -> Save     
 
12 
 Preset  
Couplings  None  
Preset  N/A 
Notes   
 
7.3 Format  
Command  :FORMat:TRACe[:DATA] ASCii|REAL  
:FORMat:TRACe[:DATA]?  
:FORMat:IQ[:DATA] ASCii|BINary  
:FORMat:IQ[:DATA]?  
Description  TRACe:DATA,  Specify the format of the returned trace data from the 
TRACe[:DATA]?  command.  
IQ:DATA,  Specify the format of the returned IQ data from the FETCH:ZS? 1  
command.  
Example s :FORM:TRAC  REAL 
:FORMAT:TRACE:DATA ASCII  
:FORMAT:IQ:DATA BIN  
:FORM:IQ?  
Software 
Controls  N/A 
Couplings  None  
Preset  Ascii  
Notes  See format description below  
 
7.3.1  Ascii Trace Format  
When the ascii format is specified, traces are returned as an ascii string of the form  
<ascii value 1>,<ascii value 2>,...,<ascii value N>  
An example of this is  
-89.324,-102.784, -27.641,…, -112.882<NL>  
 
7.3.2  Real Trace Format  
When the real format is specified, traces are returned in a block data transfer. A block data transfer 
is of the form  
#NBBBBDDDDD… D<NL>    
 
13 
 Where  
# - Leading character of a block data transfer. Always present.  
N – Number of decimal digits in the total byte count.  
BBBB – The total byte count of the payload of the block data transfer. More specifically, the 
number of bytes that follow the byte count. This number must be N decimal digits long.  
DDDD…D – The binary data.  
An example block data transfer is below  
#212ABCDEFGHIJKL<NL>  
The 2 following the # denotes that the byte count is 2 decimal digits. The ‘12’ following this is the 
byte count. Note it is 2 decimal digits long. Note: The  ‘#’  ‘2’ and ‘12’ should be  read as ascii 
characters.  ‘ABC…JKL’ is the data. The data in this example is 12 bytes long. The data should 
be read as  bytes and not ascii.  
Trace data is sent in little endian order, or least significant bytes first. Trace data is sent as 
successive 32 -bit floating point values.  
 
7.3.3  Ascii I/Q Format  
See Ascii Trace Format . 
 
7.3.4  Binary I/Q Format  
See Real Trace Format . I/Q data is sent as successive 16 -bit integer values.  
 
7.4 System Functions  
The following commands are used to perform system level software actions and query information 
about the system.  
Command  :SYSTem:CLOSe  
:SYSTem:PRESet  
:SYSTem:PRESet ?    
 
14 
 :SYSTem:PRESet[:USER]:SAVE <filename>  
:SYSTem:PRESet[:USER]:LOAD <filename>  
:SYSTem:VERsion?  
:SYSTem:COMMunicate:GTLocal  
:SYSTem:IMAGe:SAVe <filename>  
:SYSTem:IMAGe:SAVe:QUICk  
:SYSTem:PRINt  
:SYSTem:TEMPerature ? 
:SYSTem:VOLTage ? 
:SYSTem:CURRent ? 
Description  CLOSe , Disconnect  any active device and closes the Spike software. There is not a 
way to reopen the software using SCPI comm ands. This will also terminate the 
socket connection with the Spike software.  
PRESet , Presets the active device. This will power cycled the active device and 
return the software to the initial power on state. This process can take between 6 -20 
seconds depending on the device type.  
PRESet? , Presets the active device. This will close and reopen the active device. 
This process can take between 6 -20 seconds depending on the device type. Returns 
0 or 1 depending on success.  (1 for success)  
PRESet[:USER]:SAVE , Save a preset with the given file name. The file  name 
should have extension “.ini”.  
PRESet[:USER]:LOAD , Load the preset given by the file name. If the preset does 
not exist, nothing occurs. The file name should have extension “.ini”.  
VERsion? , Returns the Spike software version number.  
COMMunicate:GTLocal , Puts Spike in local mode.  
IMAGe:SAVe , Save and image with the specified filename.  
IMAGe:SAVe:QUICk , Quick save image. Same functionality as the Image quick 
save file menu option.  
PRINt , Print with the default system print settings.  
TEMPerature ?, Returns the current internal temperature of the active device , in 
degrees celsius . 
VOLTage?, Returns the measured voltage of the active device , in volts . 
CURRent?, Returns the measured current of the active device , in amps . (BB and SM 
series devices only. SA series devices return 0.) 
Example s SYST:CLOS  
SYST:PRES ET? 
SYST:PRESET:USER:SAVE 
“C:/Users/Me/Documents/SignalHound/customPreset 2.ini” 
 
SYST:PRESET:USER:LOAD 
“C:/Users/Me/Documents/SignalHound/customPreset 2.ini” 
 
SYSTEM:VERSION?  
SYST:COMM:GTL  
SYST:IMAG:SAV  “C:/Users/Me/Documents/SignalHound/img.png”  
    
 
15 
 (Usage of image save with VISA  in C) 
viPrintf(inst, "SYST:IMAG:SAV 
\"C:/Users/Me /Documents/SignalHound/img .png\"\n"); 
 
SYSTEM:IMAGE:SAVE:QUICK  
SYSTEM:PRINT  
 
SYST:TEMP?  
SYST:VOLT AGE? 
SYSTEM:CURRENT?  
Software  
Controls  Status Bar  
File Menu -> File -> Exit  
Preset  
File Menu -> Save User Preset  
File Menu -> Load User Preset  
File Menu -> Help -> About Spike  
Remote Mode Dialog -> Return to Local  
File Menu -> File -> Save As Image  
File Menu -> File -> Quick Save Image  
File Menu -> File -> Print  
Couplings  None  
Preset  N/A 
Notes   
 
7.4.1  Device Management  
The functions below allow you to remotely manage the active device in the Spike software. This 
is useful for error recovery in the event a device disconnect occurs due, or if one is managing 
multiple Signal Hound devices on one PC.  
Connecting Signal Hound devices can take between 3 -20 seconds depending on the type of 
device and the state of the device prior to interfacing it. If the VISA timeout is shorter than the 
time it takes to connect the device in the Spike software, you will n eed to loop on timeout until you 
receive the connect status return.  
Command  :SYSTem:DEVice:ACTive?  
:SYSTem: DEVice:COUNt?  
:SYSTem:DEVice:LIST?  
:SYSTem:DEVice:CURRent?  
:SYSTem:DEVice:CONnect? <int>  
:SYSTem:DEVice:DISConnect?  
Description  ACTive? , Returns whether or not a device is currently connected and active in the 
software. Look at the *IDN?  function to request information about the device.  
COUNt? , Returns the number of devices connected to the PC. No device may be 
active when this function is called. IE, you must call DISConnect?  before calling    
 
16 
 this function. Any networked device that have been configured will be counted in the 
returned value.  
LIST? , Returns the connection strings  for all devices available to connect in the 
Spike software. To determine how many devices are present, use the COUNt?  
function. For USB devices, this is serial number s returned as ascii integers and 
comma separated. If any networked devices have been configured they will be 
returned in the list with the following format  
SOCKET::IP::PORT  example, SOCKET::192.168.1.1::12345  
This entire string can be sent to the connect function to connect to a networked 
device.  
CURRent?, Returns the currently active device’s connection string.  See LIST?  for 
format.  
CONnect? , Connect a device in the Spike software. For USB devices, y ou need to 
provide the serial number of the device to connect.  For networked devices, send a 
string with format  
SOCKET::IP::PORT  example, SOCKET::192.168.1.1::12345  
Returns 0 or 1 depending on if  the device successfully opened.   
DISConnect? , Disconnects any device actively connected in Spike. Returns 1 when 
finished.  
Example s SYST:DEV:ACT?  
SYST:DEV:COUNT?  
SYSTEM:DEVICE:LIST?  
SYSTEM:DEVICE:CURR?  
SYSTEM:DEVICE:CONNECT? 30700189  
SYSTEM:DEVICE:CONNECT? SOCKET::192.168.2.10::51665  
SYSTEM:DEV:CONNECT?  
SYST:DEV:DISC?  
Software  
Controls  File Menu -> File -> Connect  
File Menu -> File -> Disconnect  
Couplings  Only one device can be active at a time in Spike.  
Preset  N/A 
Notes   
 
7.4.2  Errors  
The Spike software maintains a list of system errors available to the user. Errors are stored with 
a unique ID, name, and description. The types of issues represented in the error list are settings 
conflicts, SCPI issues such as invalid parameter types or instructions, file I/O errors, etc.  
See the SCPI examples to see how to poll Spike for any present errors.  
The errors are returned in the form  
“ID,description; error information”     
 
17 
 ID is a unique integer for the error. The description is an ascii text description for the error, and 
error information is any additional context information for the error generated. An example error 
message is below.  
“-2,Invalid Parameter; Expected frequency parameter”  
This error indicates the SCPI parser was expecting a frequency parameter and was either unable 
to find it or was unable to parse it as a frequency.  
Once the error queue is empty, the software will return the ‘no error’ error when the next system 
error is requested. ‘No error’ has an ID of 0.  
Command  :SYSTem:ERRor:COUNt?  
:SYSTem:ERRor[:NEXT]?  
:SYSTem:ERRor:CLEA r 
Description  COUNt? , Returns the number of errors in the error queue.  
NEXT? , Returns the next error in the queue, and removing it from the queue.  
CLEAR , Remove all errors from the queue, returns nothing.  
Example s SYST:ERR:COUN?  
SYSTEM:ERROR:NEXT?  
SYST:ERR?  
SYST:ERR:CLEAR  
Software  
Controls  None, remote only  
Couplings  None  
Preset  N/A 
Notes  None  
 
7.5 Mode/Measurements  
7.5.1  Instrument (Mode)  
These commands control the measurement mode of the Spike software.  
Command  :INSTrument[: SELect] 
SA|RTSA|ZS|HARMonics| NA|PNoise|DDEMod|EMI|ADEM od| 
   IH|SEMask|NFIGure| WLAN|BLE|LTE  
:INSTrument[:SELect]?  
:INSTrument:RECALibrate  
Description  SELect , Determines the current measurement mode.  
RECALibrate , Perform a device recalibration.  
Example s INST SA 
Software  
Controls  File Menu -> Analysis Mode  
Recal (Button ) 
Couplings  None     
 
18 
 Preset  Sweep mode is selected by default.  
Notes   
 
7.5.2  Initiate (Single/Continuous)  
The commands are used to control when measurements are performed in the application.  For 
automated measurements, it is common/recommended to disable CONTinuous  measurement 
and control when the software performs the next measurement (sweep/IQ acquisition/etc) with 
the INIT:IMM  command.  
Command  :INITiate:CONTinuous  ON|OFF|0|1  
:INITiate:CONTinuous?  
:INIT[:IMMediate]  
Description  CONTinuous , Enable/Disable continuous measurement operation. This state is 
global and will affect all measurements . When enabled, measurements are 
automatically triggered after the previous measurement is finished. When disabled, 
measurements are triggered only on the IMMediate  command.  
IMMediate , Trigger a measurement . Has no effect if CONTinuous  is enabled.  
Example s INIT:CONT OFF  
INIT 
Software  
Controls  Single (button)  
Auto (button)  
Couplings  None  
Preset  CONTinuous  set enabled by default.  
Notes  None  
 
7.6 Limit Lines  
These commands control the limit lines which are available in sweep, real -time, and network 
analysis measurement modes.  If no numeric suffix is provided to specify a limit line, the last used 
suffix is assumed. The last used suffix defaults to 1. 
Command  :CALCulate:LLINe[1|2|3 |4|5|6]:STATe ON|OFF|0|1  
:CALCulate:LLINe[1|2|3 |4|5|6]:STATe?  
:CALCulate:LLINe [1|2|3|4|5|6] :TITLe 
:CALCulate:LLINe [1|2|3|4|5|6] :TITLe? 
:CALCulate:LLINe[1|2|3 |4|5|6]:TRACe <int>  
:CALCulate:LLINe[1|2|3 |4|5|6]:TRACe?  
:CALCulate:LLINe[1|2|3 |4|5|6]:TYPE UPPer|LOWer  
:CALCulate:LLINe[1|2|3 |4|5|6]:TYPE? 
:CALCulate:LLINe [1|2|3|4|5|6]:REFerence  FIXed|RELative  
:CALCulate:LLINe[1|2|3|4|5|6]:REFerence?  
:CALCulate:LLINe[1|2|3|4|5|6]:REFerence:TRANsform  
:CALCulate:LLINe[1|2|3|4|5|6]:INTerpolate LINear|LOGarithmic     
 
19 
 :CALCulate:LLINe[1|2|3|4|5|6]:INTerpolate ? 
:CALCulate:LLINe[1|2|3|4|5|6]:PAUSe[:STATe] ON|OFF|0|1  
:CALCulate:LLINe[1|2|3|4|5|6]:PAUSe[:STATe]?  
:CALCulate:LLINe[1|2|3|4|5|6]:DISPlay:LINE [:STATe] 
:CALCulate:LLINe[1|2|3|4|5|6]:DISPlay:LINE [:STATe]? 
:CALCulate:LLINe[1|2|3|4|5|6]:DISPlay:RESult [:STATe] 
:CALCulate:LLINe[1|2|3|4|5|6]:DISPlay:RESult [:STATe]? 
:CALCulate:LLINe[1|2|3|4|5|6]:OFFSet:Y <double>  
:CALCulate:LLINe[1|2|3|4|5|6]:OFFSet:Y?  
:CALCulate:LLINe[1|2|3|4|5|6]:BUILD:POINts  <int> 
:CALCulate:LLINe[1|2|3|4|5|6]:BUILD:POINts?  
:CALCulate:LLINe [1|2|3|4|5|6]:BUILD  
:CALCulate:LLINe[1|2|3 |4|5|6]:POINts?  
:CALCulate:L LINe[1|2|3 |4|5|6]:DATA <freq1>, <ampl 1>, … 
:CALCulate:LLINe[1|2|3 |4|5|6]:DATA? 
:CALCulate:LLINe[1|2|3 |4|5|6]:FAIL? 
:CALCulate:LLINe[1|2|3 |4|5|6]:CLEAr 
:CALCulate:LLINe :ALL:CLEAr  
Description  STATe , Enable or disable testing of this limit line. If there are not at least 2 points in 
the limit line, testing doesn’t occur despite being enabled.  
TITLe , Specify the name of the limit line.  
TRACe , Specify which trace is tested against this limit line.  
TYPE , Specify whether the limit line is tested as an upper bound or lower bound.  
REFerence , Specify  whether the limit line values are fixed/absolute or relative to the 
center frequency and ref level.  
REFerence :TRANsform , Convert the limit line reference type between fixed and 
relative by recalculating points based on the current configuration.  
INTerpolate , Specify whether the limit line uses linear or logarithmic interpolation.  
PAUSe:STATe , When enabled, a failure of this limit will pause the sweep update.  
DISPlay:LINE:STATe , When enabled, the limit line will be visible on the graticule.  
DISPlay:RESult :STATe , When enabled, the limit line pass/fail result will be 
visible on the graticule.  
OFFset:Y , Specify a dB offset to the limit line.  
BUILD:POINts , Specify how many points to use when building limit line from trace.  
BUILD , Build limit line points from trace, max holding across frequency sections.  
POINts? , Returns the number of points in the limit line as an integer.  
DATA , Specify the points in the limit line, will override any existing points. Points are 
specified as freq/amplitude pairs where the amplitude is specified as dBm.  
DATA? , Returns the points in the limit line. Points are returned as freq/amplitude 
pairs where the frequencies are specified as Hz and the amplitudes as dBm.  
FAIL? , Returns 1 when the limit test has failed, 0 if passed.  
CLEAr , Resets the selected limit line. Removes all points stored.  
ALL:CLEAr , Resets all limit lines.  
Example s CALC:LLINE1:STATE ON  
CALC:LLINE1: TITLe Current Limits  
CALC:LLINE:TRACE 2     
 
20 
 CALC:LLINE :TYPE LOW 
CALC:LLINE :REF REL 
CALC:LLINE :REF:TRAN 
CALC:LLINE :INTERPOLATE LINEAR  
CALC:LLINE2:PAUS:STAT OFF  
CALC:LLINE :DISPlay:LINE  
CALC:LLINE :DISPlay:RESult  
CALC:LLIN1:OFF:Y 20  
CALC:LLINE :BUILD:POINts ? 
CALC:LLINE :BUILD 
CALC:LLINE1:POINTS?  
CALC:LLINE3:DATA 1e9,-10,2e9,-20 
CALC:LLINE3:DATA 1GHZ, -10,2GHZ, -20 
 (Two points, 1 and 2 GHZ, -10dBm to -20dBm)  
 
CALC:LLINE3:DATA?  
CALC:LLINE1:FAIL?  
CALC:LLINE1:CLEAR  
CALC:LLINE:ALL:CLEAR  
Software  
Controls  Manage Limit Lines  -> Enabled  
Manage Limit Lines -> Name  
Manage Limit Lines -> Trace  
Manage Limit Lines -> Type  
Manage Limit Lines -> Reference  
Manage Limit Lines -> Convert To  
Manage Limit Lines -> Interpolation  
Manage Limit Lines -> Pause on Break  
Manage Limit Lines -> Show Line  
Manage Limit Lines -> Show Result  
Manage Limit Lines -> Offset  (dB) 
Manage Limit Lines -> Points To Build  
Manage Limit Lines -> Build Line  
Manage Limit Lines -> Modify Points  
Manage Limit Lines -> Number of Points  
Couplings  None  
Preset  Cleared.  
Notes   
 
7.7 Path Loss Tables  
These commands control the path loss tables which are available in sweep, real -time, zero -span, 
harmonics, digital modulation analysis, EMC precompliance , analog demod,  and interference 
hunting  measurement modes. If no numeric suffix is provided to specify a path loss table, the last 
used suffix is assumed. The last used suffix defaults to 1.     
 
21 
 Command  :SENSe:CORRection:PATHloss [1-8]:STATe ON|OFF|0|1  
:SENSe:CORRection:PATHloss [1-8]:STATe?  
:SENSe:CORRection:PATHloss [1-8]:DESCription  <string>  
:SENSe:CORRection:PATHloss [1-8]:DESCription ? 
:SENSe:CORRection:PATHloss [1-8]:POINts?  
:SENSe:CORRection:PATHloss [1-8]:DATA <freq1>, < offset1>, … 
:SENSe:CORRection:PATHloss [1-8]:DATA? 
:SENSe:CORRection:PATHloss [1-8]:CLEAr 
:SENSe:CORRection:PATHloss :ALL:CLEAr  
Description  STATe , Enable or disable application of this path loss table.  
DESCription , Specify the name/ description of this path loss table.  
POINts? , Returns the number of points in the path loss table as an integer.  
DATA , Specify the points in the path loss table , will override any existing points. 
Points are specified as freq/ offset  pairs where t he offset is specified as dB . 
DATA? , Returns the points in the path loss table . Points are returned as freq/ offset  
pairs where the frequencies are specified  as Hz and the offsets as dB . 
CLEAr , Resets the selected path loss table . Removes all points stored.  
ALL:CLEAr , Resets all path loss tables . 
Example s SENSe:CORRection:PATHloss 3:STATE ON  
SENSe:CORRection:PATHloss 3:DESC Table Three  
SENSe:CORRection:PATHloss 3:POINTS?  
 
SENSe:CORRection:PATHloss 3:DATA 1e9, -10,2e9,-20 
SENSe:CORRection:PATHloss 3:DATA 1GHZ, -10,2GHZ, -20 
 (Two points, 1 and 2 GHZ, -10dBm to -20dBm)  
 
SENSe:CORRection:PATHloss 3:DATA? 
SENSe:CORRection:PATHloss 3:CLEAR 
Software  
Controls  Manage Path Loss Tables  -> Enabled  
Manage Path Loss Tables  -> Name/Description  
Manage Path Loss Tables  -> Edit 
Manage Path Loss Tables  -> Clear  
Manage Path Loss Tables  -> Number of Points  
Couplings  None  
Preset  Cleared.  
Notes   
 
7.8 Reference  
These commands control the reference oscillator settings the of the spectrum analyzer.  
Command  [:SENSe]:ROSCillator:SOURce INTernal|EXTernal |OUTput 
[:SENSe]:ROSCillator:SOURce?  
Description  Configure the reference clock of the instrument.  
 
This modifies the settings in the Reference dialog of the Settings menu .    
 
22 
  
The exact behavior of this command  is device dependent . This table maps the SCPI 
command to  the Spike reference dialog settings for each device:  
 
 INTernal  EXTernal  OUTput  
SM200 /SM435  Use internal 
reference  Use external 
reference + 
internal out 
enabled to false  Use internal 
reference + 
internal out 
enabled to true 
SP145  Use internal 
reference  Use external 
reference  No change  
BB60D  Use internal 
reference  Use external 
reference  No change  
BB60C  Use internal 
reference  Use external 
reference (AC)  Reference out 
SA124B  Not set, use 
internal reference  Use external 
reference  Internal reference 
out 
SA44B  Not set, use 
internal reference  Use external 
reference  No change  
 
Conflicts that normally result in user dialogs will not appear when using this SCPI 
command. To verify the correct value has been set and accepted, use the query 
command.  
Example s :SENSE:ROSCILLATOR:SOURCE INTERNAL  
ROSC:SOUR EXT  
ROSC:SOUR OUT  
rosc:source?  
Software  
Controls  Settings -> Reference  
Couplings  None  
Preset  On program startup, internal reference is selected.  
Notes  None  
7.9 Spectrum  Analysis  
7.9.1  Sweep Configuration  
These commands control the receiver configuration in the swept analysis mode.  
7.9.1.1  Frequency  
These commands control the frequ ency range of the sweep s in swept analysis mode.  
Command  [:SENSe]:FREQuency:CENTer <freq>|UP|DOWN  
[:SENSe]:FREQuency:CENTer? [MIN|MAX]  
[:SENSe]:FREQuency:STARt <freq>  
[:SENSe]:FREQuency:STARt?  
[:SENSe]:FREQuency:STOP <freq>     
 
23 
 [:SENSe]:FREQuency:STOP?  
[:SENSe]:FREQuency:CENTer:STEP[: INCRement] <freq>  
[:SENSe]:FREQuency:CENTer:STEP[: INCRement]?  
[:SENSe]:FREQuency:SPAN <freq>|UP|DOWN  
[:SENSe]:FREQuency:SPAN?  
Description  CENTer , Set the measurement center frequency. This can cause the start or stop 
frequency to change if the device is unable to maintain the current span with the new 
center frequency. This can have the side effect of changing the span/start/stop 
frequencies.  
CENTer? , Query the current center frequency. Returned as Hz. By passing the MIN 
or MAX arguments, the user can query the upper and lower frequency limits for a 
sweep.  
STARt , Change the sweep start frequency. The lower bound for the start frequency 
is determined with the CENT? MIN  command.  
STARt?,  Query the current measurement start frequency in Hz.  
STOP , Set the sweep stop frequency. The upper bound for the stop frequency is 
determined with the CENT? MAX  command.  
STOP? , Query the current measurement stop frequency in Hz.  
CENTer:STEP[: INCRement] , Set the step amount the center frequency changes 
by when using the UP or DOWN parameters on the CENTer  command.  
CENTer:STEP[:INCRement]? , Query the center frequency step size in Hz.  
SPAN , Set the sweep span. This will change the start/stop and potentially center 
frequency of the sweep in attempt to meet the span requested.  
SPAN? , Query the span in Hz.  
Example s SENS:FREQ:CENT 1GHz  
SENSE:FREQUENCY:CENTER? MAX  
FREQ:CENT UP  
FREQ:SPAN 20MHz  
FREQUENCY:CENTER:STEP 10KHZ  
Software  
Controls  Sweep Settings Controls -> Frequency -> Center  
Sweep Settings Controls -> Frequency -> Span  
Sweep Settings Controls -> Frequency -> Start  
Sweep Settings Controls -> Frequency -> Stop  
Sweep Settings Controls -> Frequency -> Step  
Couplings  Span is coupled with RBW and VBW. It is recommended to set RBW and VBW to 
auto whenever changing the span by large factors. Start/Stop is coupled with 
Center/Span.  
Preset  Full span sweep.  
Notes  Changing any frequency setting will trigger a re -sweep.  
 
7.9.1.2  Power  
These commands affect the RF front end  of the device. Not all settings are available for each 
Signal Hound spectrum analyzer.  It is recommended to leave attenuation/gain/preamp set to auto 
and control the RF leveling with reference level.     
 
24 
 Command  [:SENSe]:POWer[:RF]:RLEVel <amplitude> |UP|DOWN  
[:SENSe]:POWer[:RF]:RLEVel?  
[:SENSe]:POWer[:RF]:RLEVel:UNIT?  
[:SENSe]:POWer[: RF]:RLEVel:OFFSet <double>  
[:SENSe]:POWer[: RF]:RLEVel:OFFSet?  
[:SENSe]:POWer[: RF]:PDIVision <double>  
[:SENSe]:POWer[: RF]:PDIVision?  
[:SENSe]:POWer[: RF]:ATTenuation <int>  
[:SENSe]:POWer[: RF]:ATTenuation?  
[:SENSe]:POWer[: RF]:ATTenuation:AUTO <bool>  
[:SENSe]:POWer[: RF]:ATTenuation:AUTO?  
[:SENSe]:POWer[: RF]:GAIN <int>  
[:SENSe]:POWer[: RF]:GAIN?  
[:SENSe]:POWer[: RF]:GAIN:AUTO <bool>  
[:SENSe]:POWer[: RF]:GAIN:AUTO?  
[:SENSe]:POWer[: RF]:PREAMP <int>  
[:SENSe]:POWer[: RF]:PREAMP?  
[:SENSe]:POWer[: RF]:PREAMP:AUTO <bool>  
[:SENSe]:POWer[: RF]:PREAMP:AUTO?  
[:SENSe]:POWer[: RF]:MW:PRESelector[: STATe] <bool>  
[:SENSe]:POWer[: RF]:MW:PRESelector[: STATe]? 
[:SENSe]:POWer[: RF]:SPURReject <bool>  
[:SENSe]:POWer[: RF]:SPURReject?  
Description  RLEVel, Set the reference level. If UP or DOWN is specified, the reference level is 
increased or decreased by the div amount (when reference level is a logarithmic 
unit).  
RLEVel? , Return the current reference level as dBM.  
RLEVel:UNIT?, Return the current amplitude unit used to express  reference level.  
RLEVel:OFFSet , Set the reference level offset in dB.  
PDIVision , specify the plot vertical division (1/10th of the plot height) as dB. 
Logarithmic scale only.  
ATTenuation , Specify the attenuation index. It is recommended to leave 
attenuation set to auto and set the reference level instead.  
GAIN , Specify the gain index. It is recommended to leave gain set to auto and set 
the reference level instead.  
PREAMP , Specify whether the preamp is on/off. Only valid for the SA devices. It is 
recommended to leave preamp set to auto and set the reference level instead.  
MW:PRESelector , SM200A only. Set the preselector state on or off. The 
preselector filters affected by this setting are below 650MHz.  
MW:SPURReject , Enable/Disable the software spur reject algorithm.  
Example s SENSE:POWER:RF:RLEVEL -20DBM 
POW:RLEV 90DBUV  
POW:RLEV:UNIT?  
POW:PDIV 6  
POW:ATT:AUTO?  
SENS:POW:RF:GAIN:AUTO ON  
POW:RF:SPURR OFF     
 
25 
 Software  
Controls  Sweep Settings Controls -> Amplitude -> Ref Level  
Measurements Controls -> Offsets -> Ref Offset  
Sweep Settings Contro ls -> Amplitude -> Div  
Sweep Settings Controls -> Amplitude -> Attenuation  
Sweep Settings Controls -> Amplitude -> Gain  
Sweep Settings Controls -> Amplitude -> Preamp  
File Menu -> Settings -> Preselector  
File Menu -> Settings -> Spur Reject  
Couplings  If atten, gain, or preamp is set to auto, ref level overrides all their settings. All three 
must be set to non -auto values to override ref level. It is recommended to set them 
all to auto and only set the ref level.  
Preset  The default value of reference level is device dependent , and the default unit is dBm.  
Div is set to 10 by default.  
Attenuation is set to auto by default.  
Gain is set to auto by default.  
Preamp is set to auto by default.  
Spur Reject is enabled for SA devices, and disabled for others.  
Preselector is disabled by default.  
Notes  Changing any of these settings will trigger a re -sweep.  
 
7.9.1.3  Bandwidth  
These commands control the FFT processing for the receivers. These settings are highly coupled 
with the frequency range and sweep time. Additionally, there are several RBW/VBW restrictions 
present based on device type and span.  
Command  [:SENSe]:BANDwidth[: RESolution] <freq> |UP|DOWN  
[:SENSe]:BANDwidth[: RESolution]?  
[:SENSe]:BANDwidth[: RESolution]:AUTO ON|OFF|0|1  
[:SENSe]:BANDwidth[: RESolution]:AUTO?  
[:SENSe]:BANDwidth:VIDeo  <freq>|UP|DOWN  
[:SENSe]:BANDwidth:VIDeo?  
[:SENSe]:BANDwidth: VIDeo:AUTO ON|OFF|0|1  
[:SENSe]:BANDwidth: VIDeo:AUTO? 
[:SENSe]:BANDwidth:SHAPe FLATtop|NUTTall|G AUSsian 
[:SENSe]:BANDwidth:SHAPe?  
Description  RESolution , Specify the RBW. If UP or DOWN is specified, the RBW is stepped in 
a 1/3/10  sequence.  
VIDeo , Specify the VBW. If UP or DOWN is specified, the VBW is stepped in a 
1/3/10 sequence.  
SHAPe , Specify the FFT window function.  
Example s SENS:BAND:RES 10kHz  
BANDWIDTH:RESOLUTION 1MHz  
BAND:VID? 
SENSE:BAND: VIDEO:AUTO ON     
 
26 
 Software  
Controls  Sweep Settings Controls -> Bandwidth -> RBW  
Sweep Settings Controls -> Bandwidth -> Auto RBW  
Sweep Settings Controls -> Bandwidth -> VBW  
Sweep Settings Controls -> Bandwidth -> Auto VBW  
Couplings  RBW is coupled with VBW and Span. RBW will also have additional restrictions 
depending on the active device. If you are changing the span by more than a large 
factor (>2 -4) then it is suggested to set RBW and VBW to auto before changing 
span.  
VBW is also coupled with sweep time. In most cases, if sweep time implies a lower 
VBW settings, then the lower setting is used (internally only).  
Preset  RBW is set to auto by default.  
VBW is set to auto by default.  
Shape is set to Flattop by default.  
Notes  Changing any bandwidth setting  will trigger a re -sweep.  
 
7.9.1.4  Sweep  
The sweep commands control additional FFT settings of the receiver.  
Command  [:SENSe]:SWEep:TIME <double > 
[:SENSe]:SWEep:TIME?  
[:SENSe]:SWEep:DETector:FUNC tion AVERage|MINMAX |MIN|MAX  
[:SENSe]:SWEep:DETector:FUNC tion? 
[:SENSe]:SWEep:DETector:UNITs POWer|SAMPle|VOLTage|LOG  
[:SENSe]:SWEep:DETector:UNITs?  
Description  TIME , Specified as seconds.  Controls the overall acquisition length for the sweep. If 
the sweep time is smaller than is needed for the current RBW/VBW settings, then 
sweep time is ignored. If sweep time is longer than necessary for the current 
RBW/VBW settings, then VBW is lowered t o meet the requested sweep time. The 
VBW is lowered internally and won’t be represented in the VBW settings.  
DETector:FUNCtion , Controls how the VBW processing is performed. If average, 
overlapping FFTs are averaged together. If MIN/MAX , overlapping FFTs are 
min/max held.  MIN or MAX is the same processing as min/max but only returns one 
of the resulting arrays.  
DETector:UNITs , Controls the units in which the detector function is performed in.  
Example s SWE:TIME 0.1  
SENS:DET:FUNC AVER  
SENSE:DETECTOR:FUNCTION?  
SWE:DET:UNIT POW  
Software  
Controls  Sweep Settings Controls -> Acquisition -> Swp Time  
Sweep Settings Controls -> Acquisition -> Detector  
Sweep Settings Controls -> Acquisition -> Video Units  
Couplings  RBW is coupled with VBW and Span. RBW will also have additional restrictions 
depending on the active device. If you are changing the span by more than a large 
factor (>2 -4) then it is suggested to set RBW and VBW to auto before changing 
span.     
 
27 
 Preset  Sweep time is set to 1ms (0.001) by default.  
Detector is set to average by default.  
Detector units is set to power by default.  
Notes  Time is specified in seconds , 1ms minimum.  
Changing any of these settings will trigger a re -sweep.  
 
7.9.2  Traces  
The trace commands control the user configurable traces for sweep mode.  At any point there is 
an active trace that is selected with the TRACe:SELect  command. All other commands operate 
on the current selected trace.   
It may be necessary to request the entire selected sweep from the software. To do this, use the 
DATA?  command. The sweep data will be returned as comma separated ascii floating point 
values. For example,  
-107.12,-88.4,-30.72,-91.94,-111.6,… 
To determine the frequency of any given point in the sweep, use the XSTARt? and XINCrement ? 
commands . The frequency of a given point is given by the equation,  
Frequency of j’th point = XSTART + j * XINCREMENT  
where j is a zero based index into the array of sweep points.  
Command  :TRACe:SELect <int>  
:TRACe:SELect?  
:TRACe:TYPE OFF|WRITe|AVERage|MAXhold|MINhold|MINMAX  
:TRACe:AVERage:COUNt <int>  
:TRACe:AVERage:COUNt?  
:TRACe:AVERage:CURRent?  
:TRACe:COPY <int>  
:TRACe:UPDate[:STATe] ON|OFF|0|1  
:TRACe:UPDate[:STATe]?  
:TRACe:DISPlay[:STATe] ON|OFF|0|1  
:TRACe:DISPlay[:STATe]?  
:TRACe:CLEar  
:TRACe:CLEar:ALL  
:TRACe:XSTARt?  
:TRACe:XINCrement?  
:TRACe:POINts?  
:TRACe[:DATA]?  
Description  SELect , Specify a trace index [1,6]. All future operations occur on this trace.  
TYPE, Specify the behavior of the trace.     
 
28 
 AVERage:COUNt , Specify the number of traces that are averaged together to create 
the final sweep.  
AVERage: CURRent , Retrieve the current number of traces that have been averaged 
together to create the final sweep.  
COPY , Copy the currently selected trace to the trace specified by the supplied 
parameter. The supplied parameter should be between the value [1,6] and should 
not equal the currently selected trace.  If the destination trace type is off, the trace 
type is set to clear and write. Update is set to off and display is set to on for the 
destination trace.  
UPDate:STATe , Specify if the trace updates when a new sweep is acquired from 
the device.  
DISPlay:STATe , Specify if the trace is hidden.  
CLEar , Clear the selected trace. For example, if the current sweep is a max hold, 
sweep, and is cleared, the trace will be replaced with the next sweep from the 
device.  
CLEar:ALL , Clear all the traces.  
XSTARt? , Retrieve the frequency of the first point in the sweep as Hz.  Useful for 
calculating the frequency of each point in the trace data returned from the 
:TRACe:DATA?  command.  
XINCrement? , Retrieve the frequency step betwee n two points in the trace data as 
Hz. Useful for calculating the frequency of each point in the trace data.  
POINts? , Returns the number of points in the trace data.  
TRACe:DATA?  Returns the trace data.   
Example s TRAC:SEL 2  
TRAC:TYPE AVER  
TRACE:COPY 2  
TRACE:AVERAGE:COUNT 10  
TRACE:AVER:CURR?  
TRAC:UPD ON  
TRAC:DISP ON  
Software  
Controls  Measurements Controls -> Traces -> Trace  
Measurements Controls -> Traces -> Type  
Measurements Controls -> Traces -> Avg Count  
Measurements Controls -> Traces -> Curr Avg  
Measurements Controls -> Traces -> Copy To  
Measurements Controls -> Traces -> Update  
Measurements Controls -> Traces -> Hide 
Measurements Controls -> Traces -> Clear  
Couplings   
Preset  All traces but 1 are set to OFF type.  
Trace 1 is set to clear and write.  
Notes  Changing these settings will not trigger a re -sweep.  
Changing the trace display state will take effect immediately.  
Clearing a trace will not take effect until the next sweep.  
Traces are not updated until another sweep comes in from the device.  
    
 
29 
 7.9.3  Markers  
The marker commands control the Spike sweep markers. Select the active marker with the 
MARKer:SELect  command. All marker commands will operate on the active marker.  
Several commands operate on peaks. Peaks must meet the peak criteria which can be set with 
the EXCursion  and THReshold  commands.  
Command  :CALCulate:MARKer:SELect <int>  
:CALCulate:MARKer:SELect?  
:CALCulate:MARKer:STATe ON|OFF|0|1  
:CALCulate:MARKer:STATe?  
:CALCulate:MARKer:TRACe <int>  
:CALCulate:MARKer:TRACe?  
:CALCulate:MARKer:MODE POSition|NOISE |CHPower |NDB 
:CALCulate:MARKer:MODE?  
:CALCulate:MARKer:UPDate ON|OFF|0|1  
:CALCulate:MARKer:UPDate?  
:CALCulate:MARKer:DELTa ON|OFF|0|1  
:CALCulate:MARKer:DELTa?  
:CALCulate:MARKer:PKTRack ON|OFF|0|1  
:CALCulate:MARKer:PKTRack?  
:CALCulate :MARKer:X <freq>  
:CALCulate:MARKer:X?  
:CALCulate:MARKer:Y?  
:CALCulate:MARKer:MAXimum  
:CALCulate:MARKer:MAXimum:NEXT  
:CALCulate:MARKer:MAXimum:LEFT  
:CALCulate:MARKer:MAXimum:RIGHt  
:CALCulate:MARKer:MINimum  
:CALCulate:MARKer:PEAK:EXCursion <double>  
:CALCulate:MARKer:PEAK:EXCursion?  
:CALCulate:MARKer:PEAK:THReshold <amplitude>  
:CALCulate:MARKer:PEAK:THReshold?  
:CALCulate:MARKer:CHPower:WIDth <freq>  
:CALCulate:MARKer:CHPower:WIDth?  
:CALCulate:MARKer:NDB[:OFFset] <double>          
:CALCulate:MARKer:NDB[:OFFset]?  
:CALCulate:MARKer:NDB:BANDwidth?  
:CALCulate:MARKer:NDB:RLEFt?  
:CALCulate:MARKer:NDB:RRIGht?  
:CALCulate:MARKer[:SET]:CENTer  
:CALCulate:MARKer[:SET]:RLEVel  
:CALCulate:MARKer:AOFF  
Description  SELect , Select the active marker.  
STATe , Turn the marker on/off.     
 
30 
 TRACe , Specify which trace to place the marker on. The trace must also be active to 
be able to retrieve marker measurements.  
MODE , Switch between positional and noise marker.  
UPDate , When update is disabled, the marker will hold its current position and will 
not update on future sweep updates.  
DELTa , When delta is enabled, the delta reference takes the current marker position 
and the marker measurement returns the delta frequency and amplitude between 
the current marker position and the delta reference.  
PKTRace , When enabled, the marker performs a peak search on each new trace 
update.  
X, Move the marker position to the specified frequency.  
X?, Retrieve the marker position frequency as Hz.  
Y?, Retrieve the marker position amplitude  according to marker type . Position and 
channel power markers return dBm, and noise markers return dBm/Hz. N dB 
markers also return the amplitude at their position in dBm. N dB results are retrieved 
using the N dB commands.  
MAXimum , Perform a peak search.  
MAXimum:NEXT , Move the marker to the next highest peak.  Only peaks that meet 
the peak criteria are considered.  
MAXimum:LEFT , Move the marker to the next peak to the left  of its current position. 
Only peaks that meet the peak criteria are considered.  
MAXimum:RIGHt , Move the marker to the next peak to the right of its current 
position (higher frequency). Only peaks that meet the peak criteria are considered.  
MINimum , Perform a minimum peak search.  
PEAK:EXCursion , Specify the peak excursion in dB. How many dB above 
surrounding points the point must be before being considered a peak.  
PEAK:THReshold , Specify the peak threshold. A point must exceed this amount 
before being considered as a peak. Once the threshold test is met, then the 
excursion test is ran. If it meets both, then a point is considered a peak.  
PEAK:THReshold? , Returns the current threshold as dBm.  
CHPower:WIDth , Specify the width of the channel power marker measurement as a 
frequency.  
NDB[:OFFset] , Specify the offset of the N dB marker measurement in dB.  
NDB:BANDwidth?  Retrieve the width of the N dB band. 
NDB:RLEFt?  Retrieve the left edge frequency of the N dB band . 
NDB:RRIGht?  Retrieve the right edge frequency of the N dB band.  
[:SET]:CENTer , Set the sweep center frequency to the current marker frequency.  
[:SET]:RLEVel , Set the sweep reference level to the current marker amplitude.  
AOFF , Disables all markers. All other configuration parameters of the markers remain 
the same.  
Example s CALC:MARK:SEL 1  
CALC:MARK:STAT ON  
CALCULATE:MARKER:TRACE 1  
CALCULATE:MARKER:MODE POS  
CALCULATE:MARKER:UPDATE ON     
 
31 
 CALC:MARK:PEAK:THR -100DBM 
CALC:MARK:PEAK:EXC 6  
CALC:MARK:MAX  
CALC:MARK:Y?  
CALC:MARK:MIN  
CALC:MARK:CHP:WIDTH 20MHZ  
CALC:MARK:NDB -5.0 
CALC:MARK:NDB:BAND?  
CALC:MARK:NDB:RLEF?  
CALC:MARK:NDB:RRIG?  
CALC:MARK:AOFF  
Software  
Controls  Measurements Controls -> Markers -> Marker  
Measurements Controls -> Markers -> Active  
Measurements Controls -> Markers -> Place On  
Measurements Controls -> Markers -> Type  
Measurements Controls -> Markers -> Update  
Measurements Controls -> Markers -> Delta  
Measurements Controls -> Markers -> Pk Tracking  
Measurements Controls -> Markers -> Set Freq  
Measurements Controls -> Markers -> Peak Search  
Measurements Controls -> Markers -> Peak Left  
Measurements Controls -> Markers -> Peak Right  
Measurements Controls -> Markers -> Min Peak  
Measurements Controls -> Markers -> Next Peak  
Measurements Controls -> Markers -> Pk Excurs.  
Measurements Controls -> Markers -> Pk Threshold  
Measurements Controls -> Markers -> Ch Power Width  
Measurements Controls -> Markers -> N dB Offset  
Measurements Controls -> Markers -> To Center  
Measurements Controls -> Markers -> To Ref  
Measurements Controls -> Markers -> Disable All  
Couplings   
Preset  All markers are disabled and set to Position/Normal  type.  
Notes  Changing the state of a marker will take effect immediately. For example, a peak 
search (MAXimum ) command will move the marker immediately and allow you to 
request the updated frequency and amplitude without needing to re -sweep.  
 
7.9.4  Trace Mat h 
For more information on trace math, see the Spike user manual.  
Command  :CALCulate:MATH [:STATe] <bool>  
:CALCulate:MATH[:STATe]?  
:CALCulate:MATH: FIRST <int> 
:CALCulate:MATH :FIRST? 
:CALCulate:MATH: SECond <int> 
:CALCulate:MATH: SECond?    
 
32 
 :CALCulate:MATH:RESult <int>  
:CALCulate:MATH:RESult?  
:CALCulate:MATH:OP PDIFF|PSUM|LOFFset|LDIFF  
:CALCulate:MATH:OP?  
:CALCulate:MATH:OFFSet <double>  
:CALCulate:MATH:OFFSet?  
Description  STATe , Enabled or disable the trace math function.  
FIRST , Specify the first operand trace in the selected trace math function. Valid 
values are [1,6].  
SECond , Specify the second operand trace in the selected trace math function. Valid 
values are [1,6].  
RESult , Specify the result trace in the selected trace math function. Valid values are 
[1,6].  
OP, Specify the trace math function.  
OFFSet , Specify the offset to use in the logarithm trace math functions.  
Example s CALC:MATH ON  
CALC:MATH: FIRST 1 
CALC:MATH: SECOND 2 
CALC:MATH:RESULT 3  
CALC:MATH:OP LDIFF  
CALC:MATH:OFFSET -50 
Software  
Controls  Measurements -> Trace Math -> Enabled  
Measurements -> Trace Math -> Op 1  
Measurements -> Trace Math -> Op 2  
Measurements -> Trace Math -> Result  
Measurements -> Trace Math -> Operation  
Measurements -> Trace Math -> Offset  
Couplings  None  
Preset   
Notes   
 
7.9.5  Channel Power  
These commands control the channel power measurement in the Spike software. Through these 
commands you can configure a main channel and up to 5 adjacent channels and simultaneously 
measure channel and adjacent channel power.  
Command  [:SENSe]:CHPower:STATe ON|OFF|0|1  
[:SENSe]:CHPower:STATe?  
[:SENSe]:CHPower:TRACe <int>  
[:SENSe]:CHPower:TRACe?  
[:SENSe]:CHPower:WIDth <freq>  
[:SENSe]:CHPower:WIDth?  
[:SENSe]:CHPower: CHANnel:STATe <int>,ON|OFF|0|1  
[:SENSe]:CHPower: CHANnel:STATe? <int>     
 
33 
 [:SENSe]:CHPower: CHANnel:OFFSet <int>,< freq> 
[:SENSe]:CHPower: CHANnel:OFFSet? <int>  
[:SENSe]:CHPower: CHANnel:WIDth <int>,< freq> 
[:SENSe]:CHPower: CHANnel:WIDth? <int>  
[:SENSe]:CHPower:CHPower ? 
[:SENSe]:CHPower:CHPower :LOWer? <int> 
[:SENSe]:CHPower:CHPower:UPPer? <int>  
[:SENSe]:CHPower:ACPower :LOWer? <int> 
[:SENSe]:CHPower:ACPower:UPPer? <int>  
Description  STATe , Enables/disables the channel power measurement.  
TRACe , Selects  which trace the channel power measurement is performed on.  
WIDth , Specifies the width of the main channel power measurement as a frequency.  
CHANnel:STATe , Enables/disables the measurement of an adjacent channel.*  
CHANnel:OFFSet , Specifies the offset from center of an adjacent channel.*  
CHANnel:WIDth , Specifies the width of an adjacent channel.*  
CHPower? , Returns the channel  power of the main  channel.  The value has units 
equal to the units currently selected in reference level. No unit string is returned.  
CHPower:LOWer? , Returns the lower channel power of an adjacent channel  as 
dBm.* 
CHPower:UPPer? , Returns the upper channel power of an adjacent channel  as 
dBm.* 
ACPower:LOWer? , Returns the lower adjacent power† of an adjacent channel  as 
dBc.* 
ACPower:UPPer? , Returns the upper adjacent power† of an adjacent channel  as 
dBc.* 
 
* Read the notes on how to specify a channel.  
† This is the power of the center channel minus the power of the channel specified.  
Example s SENSE:CHPOWER: STATE ON  
SENSE:CHPOWER:TRACE 1  
SENS:CHPOWER:WID 20MHz  
SENS:CHPOW:CHAN:STAT 1,ON  
SENS:CHPOW:CHAN:OFFSET 2,1GHZ  
SENS:CHPOW:CHAN:WID 3,20MHZ  
CHP:CHP? 
CHP:CHP:LOW? 1  
CHP:ACP:UPP? 3 
Software  
Controls  Channel Power  Controls  -> Enabled  
Channel Power Controls  -> Target  
Channel Power Controls  -> Width  
Channel Power Controls  -> Power  
Channel Power Controls -> Channels Table -> State  
Channel Power Controls -> Channels Table -> Offset  
Channel Power Controls -> Channels Table -> Bandwidth  
Channel Power Controls -> Channels Table -> Lower (dBc)  
Channel Power Controls -> Channels Table -> Lower (dBm)     
 
34 
 Channel Power Controls -> Channels Table -> Upper (dBc)  
Channel Power Controls -> Channels Table -> Upper (dBm)  
Couplings   
Preset  Disabled by default.  
Notes  Any changes to channel power will not take effect until the next sweep. It is 
recommended to configure the desired channel after configuring the sweep settings 
but before you perform a sweep.  
 
There are 5 adjacent channels, each with an upper and lower component. Each 
adjacent channel is defined by a frequency offset from the main channel, and a 
bandwidth. They are specified as integers from 1 through 5 . 
 
7.9.6  Occupied Bandwidth  
These commands allow you to configure the occupied bandwidth measurement in the Spike 
software.  
Command  [:SENSe]:OBWidth:STATe ON|OFF|0|1  
[:SENSe]:OBWidth:STATe?  
[:SENSe]:OBWidth:TRACe <int>  
[:SENSe]:OBWidth:TRACe?  
[:SENSe]:OBWidth:PERCent <double>  
[:SENSe]:OBWidth:PERCent?  
[:SENSe]:OBWidth:OBWidth?  
[:SENSe]:OBWidth:CENTer?  
[:SENSe]:OBWidth:POWer?  
Description  STATe , Enable or disable the occupied bandwidth measurement . 
TRACe , Specify which trace the occupied bandwidth measurement is performed on.  
PERCent , The  occupied bandwidth measurement must contain N% of the total 
energy of the sweep. Specified as a percent.  
OBWidth? , Returns the bandwidth of the occupied bandwidth measurement as Hz.  
CENTer? , Returns the center frequency of the occupied bandwidth measurement as 
Hz. 
POWer? , Returns the power of the occupied bandwidth measurement.  
Example s OBW:STAT ON  
OBW:TRAC 1  
OBW:PERC 99  
OBW:OBW?  
OBW:CENT?  
OBW:POW?  
Software  
Controls  Measurements Controls -> Occupied Bandwidth -> Enabled  
Measurements Controls -> Occupied Bandwidth -> Target  
Measurements Controls -> Occupied Bandwidth -> % Power  
Couplings  None  
Preset  Disabled by default.  
Notes  The occupied bandwidth measurement is updated only after a sweep is performed.     
 
35 
  
7.9.7  Intermodulation Distortion  
These commands allow you to configure the intermodulation distortion measurement in the Spike 
software.  
Command  [:SENSe]:IMD:STATe  ON|OFF|0|1  
[:SENSe]:IMD:STATe?  
[:SENSe]:IMD:FREQuency? F1|F2| IM3L|IM3U  
[:SENSe]:IMD:TPOWer? F1|F2|IM3L|IM3U  
[:SENSe]:IMD:TPOWer:DIFF? IM3L|IM3U  
[:SENSe]:IMD:TOI? IM3L|IM3U  
Description  STATe , Enable or disable the intermodulation distortion  measurement.  
FREQuency? , Returns the frequency of the specified intermodulation product: f1, f2, 
lower third order product ( 2f1 – f2), or upper third order product ( 2f2 – f1). 
TPOWer? , Returns the tonal power in dBm of the specified intermodulation product.  
TPOWer:DIFF? , Returns the tonal power difference in dBc between the specified 
third order product and its corresponding first order product.  
TOI?, Returns the third -order intercept in dBm of the specified third order product . 
Example s IMD:STAT ON  
IMD:FREQ? F1 
IMD:TPOW? F2  
IMD:TPOW:DIFF? IM3L  
IMD:TOI? IM3U  
Software  
Controls  Intermod Distortion  Panel  -> Enabled  
Intermod Distortion Panel -> Product  
Intermod Distortion Panel -> Frequency  
Intermod  Distortion Panel -> Amplitude (dBm)  
Intermod Distortion Panel -> Amplitude (dBc)  
Intermod Distortion Panel -> TOI (dBm)  
Couplings  None  
Preset  Disabled by default.  
Notes  The intermodulation distortion  measurement is updated only after a sweep is 
performed. It is possible for the third -order intermodulation products to be outside the 
frequency span of the sweep. In this case, zero will be returned from any of the 
query functions for third -order products.  In Spike, “Out of Range” is displayed in the 
frequency readout of the affected products.  
7.9.8  Peak Table  
These commands control the Peak Table display  panel in Swept Analysis mode . 
Command  [:SENSe]:PEAK:TABLe :STATe ON|OFF|0|1  
[:SENSe]:PEAK:TABLe :STATe? 
[:SENSe]:PEAK:TABLe :TRACe <int>  
[:SENSe]:PEAK:TABLe :TRACe? 
[:SENSe]:PEAK:TABLe :THReshold <double>     
 
36 
 [:SENSe]:PEAK:TABLe :THReshold?  
[:SENSe]:PEAK:TABLe :EXCursion <double>  
[:SENSe]:PEAK:TABLe :EXCursion?  
[:SENSe]:PEAK:TABLe :SORT FREQuency|AMPLitude  
[:SENSe]:PEAK:TABLe :SORT? 
[:SENSe]:PEAK:TABLe :COUNt? 
[:SENSe]:PEAK:TABLe:MAX <int>  
[:SENSe]:PEAK:TABLe:MAX?  
[:SENSe]:PEAK:TABLe :FREQuency? <int>  
[:SENSe]:PEAK:TABLe :AMPLitude? <int>  
[:SENSe]:PEAK:TABLe :FREQuency:DELTa? <int>  
[:SENSe]:PEAK:TABLe :AMPLitude:DELTa? <int>  
Description  STATe , Enables/disables the Peak Table panel . 
TRACe , Selects which trace the peak  measurement s are performed on.  
THReshold , Specify the peak threshold in dBm. A point must exceed this amount 
before being considered as a peak. Once the threshold test is met, then the 
excursion test is ran. If it meets both, then a point is considered a peak.  
EXCursion , Specify the peak excursion in dB. How many dB above surrounding 
points the point must be before being considered a peak.  
SORT , Specifies the sort order of the table. Peaks can be sorted by frequency or 
amplitude.  Frequency is ascending ; amplitude is descending.  
COUNT? , Returns the number of peaks in the table . This is the number of peaks that 
have met the criteria specified. This value can change after each sweep.  
MAX, Specify the maximum number of peaks that can appear in the table. This value 
must be between [0, 99].  
FREQuency? , Returns the frequency of the specified peak. * 
AMPLitude? , Returns the amplitude of the specified peak. * 
FREQuency:DELTa? , Returns the frequency difference between the specified peak 
and the first peak in the list. * 
AMPLitude:DELTa? , Returns the amplitude difference between the specified peak 
and the first peak in the l ist.* 
 
* Read the notes on how to specify a peak . 
Example s SENSE:PEAK:TABLE:STATE ON  
SENSE:PEAK:TABL E:TRACE 1  
SENS:PEAK:TABL:THRESHOLD -90 
SENS:PEAK:TABL:EXC -6 
SENS:PEAK:TABL:SORT FREQ  
PEAK:TABL:COUNT?  
PEAK:TABL:FREQ? 1  
PEAK:TABL:AMPL? 2  
PEAK:TABL:FREQ:DELTA? 3  
PEAK:TABL:AMPL:DELTA? 4  
Software  
Controls  Peak Table  Controls -> Enabled  
Peak Table Controls -> Target  Trace  
Peak Table Controls -> Threshold     
 
37 
 Peak Table Controls -> Excursion  
Peak Table Controls -> Sort Order  
Peak Table Controls -> Max Peaks  
Peak Table -> Peak  
Peak Table -> Frequency  
Peak Table -> Amplitude  
Peak Table -> Delta Freq  
Peak Table -> Delta Ampl  
Couplings   
Preset  Disabled by default.  
Notes  Any changes to the Peak Table panel will not take effect until the next sweep. It is 
recommended to configure the desired peak settings after configuring the sweep 
settings but before you perform a sweep.  
 
There are a maximum of 16 peaks in the table , each with frequency, amplitude, delta 
frequency, and delta amplitude properties . Each peak is specified as an integer from 
1 through 16. 
 
If a peak is specified that is greater than the number of peaks in the table (eg. peak 7 
when COUNT? returns 5), then a value of zero is returned for all properties.  
 
7.9.9  Sweep Recording  
These commands control the Sweep Recording control panel in Swept Analysis mode.  
Command  [:SENSe]:RECord:SWEep:DECimate:TYPE  TIME|COUNT  
[:SENSe]:RECord:SWEep:DECimate:TYPE?  
[:SENSe]:RECord:SWEep:DECimate:TIME  <double>  
[:SENSe]:RECord:SWEep:DECimate:TIME?  
[:SENSe]:RECord:SWEep:DECimate:COUNt  <int> 
[:SENSe]:RECord:SWEep:DECimate:COUNt?  
[:SENSe]:RECord:SWEep:DECimate:DETector  AVERage|MAX  
[:SENSe]:RECord:SWEep:DECimate:DETector?  
[:SENSe]:RECord:SWEep:CHANnelizer:STATe  ON|OFF|0|1  
[:SENSe]:RECord:SWEep:CHANnelizer:STATe?  
[:SENSe]:RECord:SWEep:CHANnelizer:CENTer  <freq> 
[:SENSe]: RECord:SWEep:CHANnelizer:CENTer?  
[:SENSe]:RECord:SWEep:CHANnelizer:SPACing  <freq> 
[:SENSe]:RECord:SWEep:CHANnelizer:SPACing?  
[:SENSe]:RECord:SWEep :CHANnelizer :UNITs DBM|DBMHZ  
[:SENSe]:RECord:SWEep :CHANnelizer :UNITs? 
[:SENSe]:RECord:SWEep:PROGress?  
[:SENSe]:RECord:SWEep:COUNt?  
[:SENSe]:RECord:SWEep:FILE:SIZE?  
[:SENSe]:RECord:SWEep:FILE:PREfix  <string>  
[:SENSe]:RECord:SWEep:FILE:PREfix?  
[:SENSe]:RECord:SWEep:FILE:DIRectory  <string>     
 
38 
 [:SENSe]:RECord:SWEep:FILE:DIRectory?  
[:SENSe]:RECord:SWEep:STARt  
[:SENSe]:RECord:SWEep:STOP  
[:SENSe]:RECord:SWEep:STATus?  
Description  DECimate:TYPE , Selects the decimation type.  
DECimate:TIME , Specifies the amount of time by which to decimate . 
DECimate:COUNt , Specifies the number of sweeps by which to decimate.  
DECimate:DETector , Selects the decimation detector . 
CHANnelizer:STATe , Toggles decimation in frequency with the channelizer . 
CHANnelizer:CENTer , Specifies the center frequency of the channel.  
CHANnelizer:SPACing , Specifies the channel width . 
CHANnelizer: UNITs , Selects the output units of the channel power measurement.  
PROGress ?, Returns the progress of the current decimation in time as a floating 
point percentage between 0 and 100.  
COUNt?, Returns the integer number of sweeps saved so far.  
FILE:SIZE? , Returns the size of the file in bytes as a floating point number.  
FILE:PREfix , Specifies the file prefix.  
FILE:DIRectory , Specifies the directory in which to save recordings. If the 
specified directory does not exist, then no change is made.  
STARt , Start recording.  
STOP , Stop recording.  
STATus? , Returns true if actively recording . 
Example s REC:SWEEP:DEC:TYPE TIME  
REC:SWEEP:DEC:TIME 1.0  
REC:SWEEP:DEC:COUNT 10  
REC:SWEEP:DEC:DET AVER  
REC:SWEEP:CHAN:STATE 1  
REC:SWEEP:CHAN:CENT 100MHZ  
REC:SWEEP:CHAN:SPAC 20MHZ  
REC:SWEEP:CHAN:UNIT DBMHZ  
REC:SWEEP:PROG?  
REC:SWEEP:COUNT?  
REC:SWEEP:FILE:SIZE?  
REC:SWEEP:FILE:PRE Sweep_Rec_  
REC:SWEEP:FILE:DIR C:/Users/Hampton/Documents/SignalHound/  
REC:SWEEP:START  
REC:SWEEP:STOP  
REC:SWEEP:STAT?  
Software  
Controls  Sweep Recording Panel -> Decimation Type  
Sweep Recording Panel -> Decimation Time  
Sweep Recording Panel -> Decimation Count  
Sweep Recording Panel -> Decimation Detector  
Sweep Recording Panel -> Channelizer Enabled  
Sweep Recording Panel -> Channel Center  
Sweep Recording Panel -> Channel Spacing  
Sweep Recording Panel -> Output Units     
 
39 
 Sweep Recording Panel -> Progress  
Sweep Recording Panel -> Sweep Count  
Sweep Recording Panel -> File Size  
Sweep Recording Panel -> File Prefix  
Sweep Recording Panel -> Change Directory  
Sweep Recording Panel -> Start Recording  
Sweep Recording Panel -> Stop Recording  
Sweep Recording Panel -> Recording (indicator)  
Couplings   
Preset   
Notes   
 
7.10 Zero-Span  
7.10.1  Configuration  
These commands control the receiver configuration in zero-span  mode.  
7.10.1.1  Capture Settings  
These commands control the configuration of the capture  in zero-span mode.  
Command  [:SENSe]:ZS:CAPture:RLEVel <amplitude>  
[:SENSe]:ZS:CAPture:RLEVel?  
[:SENSe]:ZS:CAPture:CENTer <freq>|UP|DOWN  
[:SENSe]:ZS:CAPture:CENTer? [MIN|MAX]  
[:SENSe]:ZS:CAPture:CENTer:STEP[:INCRement] <freq>  
[:SENSe]:ZS:CAPture:CENTer:STEP[:INCRement]?  
[:SENSe]:ZS:CAPture:SRATe < freq> 
[:SENSe]:ZS:CAPture:SRATe?  
[:SENSe]: ZS:CAPture:IFBWidth <freq>  
[:SENSe]:ZS:CAPture:IFBWidth?  
[:SENSe]:ZS:CAPture:IFBWidth:AUTO ON|OFF|0|1  
[:SENSe]:ZS:CAPture:IFBWidth:AUTO?  
[:SENSe]:ZS:CAPture: SWEep:TIME <double>  
[:SENSe]:ZS:CAPture: SWEep:TIME? 
Description  RLEVel , Set the reference level.  
RLEVel? , Return the current reference level as dB m. 
CENTer , Set the measurement center frequency.  
CENTer? , Query the current center frequency. Returned as Hz. By passing the MIN 
or MAX arguments, the user can query the upper and lower frequency limits for a 
capture . 
CENTer:STEP[:INCRement] , Set the step amount the center frequency changes 
by when using the UP or DOWN parameters on the CENTer  command.  
CENTer:STEP[:INCRement]? , Query the center frequency step size in Hz.     
 
40 
 SRATe , Specify the sample rate of the capture . This determines how much 
decimation will be applied to the full signal.  
IFBWidth , Specify the IF bandwidth, only active when AUTO is set to false.  
IFBWidth:AUTO , When enabled, the Spike software will automatically choose an 
appropriate IF bandwidth for the measurement . 
SWEep:TIME , Specified as seconds. Controls the overall acquisition length of the 
capture.  
Example s SENSE:ZS:CAPTURE:RLEVEL -20DBM 
SENS:ZS:CAP:CENT 1GH z 
SENSE:ZS:CAPTURE :CENTER? MAX  
ZS:CAP:CENT UP  
ZS:CAPTURE:SRATE 5 0MHZ 
ZS:CAP:IFBW?  
ZS:CAP:SWEEP:TIME .002  
Software  
Controls  Zero-Span  Settings Controls -> Capture Settings  -> Ref Level  
Zero-Span Settings Controls -> Capture Settings -> Center  
Zero-Span Settings Controls -> Capture Settings -> Step 
Zero-Span Settings Controls -> Capture Settings -> Sample Rate  
Zero-Span Settings Controls -> Capture Settings -> IF BW  
Zero-Span Settings Controls -> Capture Settings -> Auto IFBW  
Zero-Span Settings Controls -> Capture Settings -> Swp Time  
Couplings  Sample rate  is coupled with IFBW . It is recommended to set IFBW  to auto when 
changing the sample rate . 
Preset  Full sample rate capture at center of device range.  
Notes   
 
7.10.1.2  Trigger Settings  
Command  :TRIGger:ZS:SOURce IMMediate|IF|EXTernal|FMT  
:TRIGger:ZS:SOURce?  
:TRIGger:ZS: SLOPe POSitive |NEGative  
:TRIGger:ZS: SLOPe? 
:TRIGger:ZS:IF:LEVel <amplitude>  
:TRIGger:ZS:IF:LEVel?  
:TRIGger:ZS:POSition <double>  
:TRIGger:ZS:POSition?  
Description  SOURce , Specify the trigger type.  
SLOPe , Specify rising edge (positive) or falling edge.  
IF:LEVel , Specify the trigger level of the IF trigger.  
POSition , Specify the trigger delay of the IF or ext trigger, the percentage of 
samples of the capture displayed before the trigger.  
Example s TRIG:ZS:SOURCE I F 
TRIG:ZS: SLOP POS  
TRIG:ZS: IF:LEV? 
TRIGGER:ZS:POSITION 20.0    
 
41 
 Software  
Controls  Zero-Span Settings Controls -> Trigger Settings -> Trigger Type  
Zero-Span Settings Controls -> Trigger Settings -> Trigger Edge  
Zero-Span Settings Controls -> Trigger Settings -> Trigger Level  
Zero-Span Settings Controls -> Trigger Settings -> Trigger Position  
Couplings  None  
Preset  Source set to immediate.  
Position  set to 10.00% . 
Notes   
 
7.10.2  I/Q Data  
A zero -span capture consists of a sequence of  complex  I/Q points . The number of points is 
determined by the sample rate and sweep time. Usually, points = sample rate * sweep time . 
Each complex point has an in -phase and quadrature component , each of which is represented 
as a 32 -bit floating point number. Data is returned  as an array of values where the complex 
components are interleaved. For example,  
I1, Q1, I2, Q2,… 
The I/Q data can be represented in ASCII or binary format. If ASCII is chosen, the data will be 
returned as a comma separated list of ASCII floating point values. For example,  
-0.08213204145,  0.04985508695,  -0.08225408942,  0.05008481443 ,… 
In binary format, the values are scaled to 16 -bit integers. The current reference level is used as 
scaler. To retrieve the floating point values, use the following equation:  
𝑓𝑙𝑜𝑎𝑡=𝑠ℎ𝑜𝑟𝑡
32768√𝑟𝑒𝑓𝑙𝑒𝑣𝑒𝑙  
where reflevel  is represented in mW.  
For large captures, binary format is faster and more efficient.  Format is set using the 
:FORMat:IQ[:DATA] command.  
 
7.10.3  Fetch Results  
These functions are used to retrieve the measurement results. Fetch commands do not perform 
any measurement. The measurement must be performed with the INIT command when in single 
trigger mode or can be retrieved at any time in continuous measurement mode.      
 
42 
 Command  :FETCh:ZS? <int>  
Description  ZS?, Fetch I/Q data and other measurement parameters . The integer parameter 
specifies which to retrieve.  
 
1. I/Q data in ASCII or binary format (see “I/Q Data” section above)  
2. Length of  I/Q data. This is the number of complex I/Q data points  (eg. (I1, Q1) is a 
single point).  
10. Average power as reported on the AM vs Time plot.  Returned as dBm.  
Example s :FETCH:ZS? 1 
:FETCH:ZS? 2  
:FETCH:ZS? 10  
Software  
Controls  N/A 
Couplings  None  
Preset   
Notes   
 
7.11 Scalar Network Analysis  
These commands control Spike in the Scalar Network Analysis measurement mode. Several 
commands are shared with standard spectrum analysis.  
7.11.1  Frequency  Configuration  
Note that the commands shared with sweep measurement mode are listed here again.  
Command  [:SENSe]:FREQuency:CENTer <freq>|UP|DOWN  
[:SENSe]:FREQuency:CENTer? [MIN|MAX]  
[:SENSe]:FREQuency:STARt <freq>  
[:SENSe]:FREQuency:STARt?  
[:SENSe]:FREQuency:STOP <freq>  
[:SENSe]:FREQuency:STOP?  
[:SENSe]:FREQuency:CENTer:STEP[:INCRement] <freq>  
[:SENSe]:FREQuency:CENTer:STEP[:INCRement]?  
[:SENSe]:FREQuency:SPAN <freq>|UP|DOWN  
[:SENSe]:FREQuency:SPAN?  
Description  CENTer , Set the measurement center frequency. This can cause the start or stop 
frequency to change if the device is unable to maintain the current span with the new 
center frequency. This can have the side effect of changing the span/start/stop 
frequencies.  
CENTer? , Query the current center frequency. Returned as Hz. By passing the MIN 
or MAX arguments, the user can query the upper and lower frequency limits for a 
sweep.  
STARt , Change the sweep start frequency. The lower bound for the start frequency 
is determined with the CENT? MIN  command.  
STARt?,  Query the current measurement start frequency in Hz.     
 
43 
 STOP , Set the sweep stop frequency. The upper bound for the stop frequency is 
determined with the CENT? MAX  command.  
STOP? , Query the current measurement stop frequency in Hz.  
CENTer:STEP[:INCRement] , Set the step amount the center frequency changes 
by when using the UP or DOWN parameters on the CENTer  command.  
CENTer:STEP[:INCRement]? , Query the center frequency step size in Hz.  
SPAN , Set the sweep span. This will change the start/stop and potentially center 
frequency of the sweep in attempt to meet the span requested.  
SPAN? , Query the span in Hz.  
Example s SENS:FREQ:CENT 1GHz  
SENSE:FREQUENCY:CENTER? MAX  
FREQ:CENT UP  
FREQ:SPAN 20MHz  
FREQUENCY:CENTER:STEP 10KHZ  
Software  
Controls  Sweep Settings Controls -> Frequency -> Center  
Sweep Settings Controls -> Frequency -> Span  
Sweep Settings Controls -> Frequency -> Start  
Sweep Settings Controls -> Frequency -> Stop  
Sweep Settings Controls -> Frequency -> Step  
Couplings  Span is coupled with RBW and VBW. It is recommended to set RBW and VBW to 
auto whenever changing the span by large factors. Start/Stop is coupled with 
Center/Span.  
Preset  Full span sweep.  
Notes  Changing any frequency setting will trigger a re-sweep.  
 
7.11.2  Sweep Configuration  
Command  [:SENSe]:NA:SWEep:POINts <int>  
[:SENSe]:NA:SWEep:POINts?  
[:SENSe]:NA:SWEep:TYPE PASSive|ACTive  
[:SENSe]:NA:SWEep:TYPE?  
[:SENSe]:NA:SWEep:HRANge ON|OFF|0|1  
[:SENSe]:NA:SWEep:HRANge?  
[:SENSe]:NA:VIEW:SCALe LOG|VSWR  
[:SENSe]:NA:VIEW:SCALe?  
[:SENSe]:NA :VIEW:RLEVel <double>  
[:SENSe]:NA:VIEW:RLEVel?  
[:SENSe]:NA:VIEW:DIV <double>  
[:SENSe]:NA:VIEW:DIV?  
[:SENSe]:CORRection:NA:STORe:THRU  
[:SENSe]:CORRection:NA:STORe:THRU:HIGH  
[:SENSe]: CORRection:NA:STORe:THRU:ACTive?  
Description  POINts , Specify a suggested sweep size. The final sweep size takes this setting 
into consideration as well as hardware limitations when determining the final sweep 
size.    
 
44 
 TYPE , Specify whether an active or passive device is being measured. This will 
affect the attenuation and gain used during the sweep. Fai lure to properly set this 
value may result in reduced dynamic range or IF overload.  
HRANge , If high range is enabled, the software will optimize the sweep for dynamic 
range when a 20dB pad store through is performed. Sweep speed will decrease 
when selected.  
VIEW:SCALe , Specify whether the plot is in log or VSWR units.  A unique reference 
level and div are stored for both scale types.  
VIEW:RLEVel , Specify the reference level. When log scale is selected, the rlevel is 
specified as dBm, when VSWR is selected, rlevel is specified as SWR directly. Do 
not specify units.  
VIEW:DIV , Specify the plot vertical scale as either dB or SWR (depending on what 
scale is currently selected). Do not specify units. In each case, the div is 1/10th the 
vertical scale of the plot.  
NA:STORe:THRU , Perform a store through calibration.  
NA:STORe:THRU:HIGH , Perform a store through high range calibration.  
NA:STORe:THRU:ACTive?,  Returns true when a calibration is active.(The store 
through has been performed for the current sweep settings.)  
Example s SENS:FREQ:CENT 1GHz  
SENSE:FREQUENCY:CENTER? MAX  
FREQ:CENT UP  
FREQ:SPAN 20MHz  
FREQUENCY:CENTER:STEP 10KHZ  
Software  
Controls  Sweep Settings Controls -> Frequency -> Center  
Sweep Settings Controls -> Frequency -> Span  
Sweep Settings Controls -> Frequency -> Start  
Sweep Settings Controls -> Frequency -> Stop  
Sweep Settings Controls -> Frequency -> Step  
Couplings  Span is coupled with RBW and VBW. It is recommended to set RBW and VBW to 
auto whenever changing the span by large factors. Start/Stop is coupled with 
Center/Span.  
Preset  Full span sweep.  
Notes  Changing any frequency setting will trigger a re -sweep.  
 
7.11.3  Traces  
See Traces  
7.11.4  Markers  
See Markers     
 
45 
 7.12 Phase Noise Measurements  
These commands control Spike in the Phase Noise measurement mode. Phase noise 
measurements are only available for certain Signal Hound devices (SA and SM series spectrum 
analyzers).  
7.12.1  Sweep Configuration  
Configure the carrier search and phase noise measurement parameters.  
Command  [:SENSe]:PNoise:CARRier: SEARch[:STATe] ON|OFF|0|1  
[:SENSe]:PNoise:CARRier: SEARch[:STATe]?  
[:SENSe]:PNoise:CARRier: SEARch:STARt <frequency>  
[:SENSe]:PNoise:CARRier: SEARch:STARt? 
[:SENSe]:PNoise:CARRier: SEARch:STOP <frequency>  
[:SENSe]:PNoise:CARRier: SEARch:STOP? 
[:SENSe]:PNoise:CARRier: SEARch:PERForm  
[:SENSe]:PNoise:CARRier:THReshold:MINimum  <double>  
[:SENSe]:PNoise:CARRier:THReshold:MINimum?  
[:SENSe]:PNoise:CARRier:VALid?  
[:SENSe]:PNoise:CARRier:FREQuency?  
[:SENSe]:PNoise:CARRier:AMPLitude?  
[:SENSe]:PNoise:VIEW:RLEVel <double>  
[:SENSe]:PNoise:VIEW:RLEVel?  
[:SENSe]:PNoise:VIEW:PDIVision <double>  
[:SENSe]:PNoise:VIEW:PDIVision?  
[:SENSe]:PNoise:VIEW:PNUMDIVisions <int>  
[:SENSe]:PNoise:VIEW:PNUMDIVisions?  
[:SENSe]:PNoise:FREQuency:CENTer <frequency>  
[:SENSe]:PNoise:FREQuency:CENTer?  
[:SENSe]:PNoise:FREQuency:OFFSet:STARt <frequency>  
[:SENSe]:PNoise:FREQuency:OFFSet:STARt?  
[:SENSe]:PNoise:FREQuency:OFFSet:STOP <frequency>  
[:SENSe]:PNoise:FREQuency:OFFSet:STOP?  
[:SENSe]:PNoise:PKTRack ON|OFF|0|1  
[:SENSe]:PNoise:PKTRack?  
[:SENSe]:PNoise:TYPE PN|PNPAM|AM 
[:SENSe]:PNoise:TYPE? 
Description  CARRier:SEARch , Enable the signal search functionality.  
CARRier:SEARch:STARt , Set the signal search frequency range.  
CARRier:SEARch:STOP , Set the signal search frequency range.  
CARRier:SEARch:PERForm , Forces a new signal search.  
CARRier:THReshold:MINimum, Specify the minimum amplitude required in dBm 
(do not include units) needed for a signal to be detected as a carrier.  
CARRier:THReshold:VALid?,  Returns whether a carrier was detected.  
CARRier:THReshold:FREQuency? , Returns the detected frequency of the carrier 
in Hz.     
 
46 
 CARRier:THReshold:AMPLitude? , Returns the detected amplitude of the carrier 
as dBm.  
VIEW:RLEVel , Specify the plot reference level as dBc/Hz.  
VIEW:PDIVision , Specify the plot division height as a floating point value.  
VIEW:PNUMDIVisions , Specify the number of divisions on the phase noise plot.  
FREQuency:CENTer , Specify the carrier search frequency window. A search 
window with 200kHz span centered at the specified frequency is used for detecting a 
carrier.  
FREQuency:OFFSet:STARt , Specify the start frequency of the phase noise sweep 
as an offset from the detected carrier center frequency  in Hz . Values must be 
between 10Hz and 10kHz and will be clamped to the closest value from the list 
[10Hz, 100Hz, 1kHz, 10kHz].  
FREQuency:OFFSet:STOP , Specify the stop frequency of the phase noise sweep 
as an offset from the detected carrier center frequency  in Hz . Values must be 
between 1kHz and 1 0MHz and will be clamped to the closest value from the list 
[1kHz, 10kHz, 100kHz, 1MHz , 10MHz ] 
PKTRack, Enable peak tracking.  
TYPE , Set the measurement type, select between, AM noise, Phase noise, or both.  
Example s PN:CARR:THR:MIN -20 
PN:CARR:THR:VAL?  
PN:VIEW:RLEV -50 
PN:VIEW:DIV 15  
PN:FREQ:CENT 1GHz  
PN:FREQ:OFFS:STAR 100Hz  
PN:FREQ:OFFSET:STOP 1MHz  
Software  
Controls  Phase Noise -> Configuration Control Panel -> Freq Settings  
Phase Noise -> Configuration Control Panel -> Sweep Settings  
Phase Noise -> Configuration Control Panel -> View Settings  
Couplings  Stop offset frequency must be 1 decade larger than the start offset.  
Preset   
Notes  Carrier detection occurs before every phase noise sweep. Carrier valid, freq, and 
amplitude can be queried for each c ompleted phase noise sweep. If a carrier is not 
detected, valid returns false, and the trace data and markers are not updated.  
 
7.12.2  Cross Correlation  
These commands control the settings for cross correlation measurements  
Command  [:SENSe]:PNoise:XCORr:DEVice:ACTive?  
[:SENSe]:PNoise:XCORr:DEVice:COUNt?  
[:SENSe]:PNoise:XCORr:DEVice:LIST?  
[:SENSe]:PNoise:XCORr:DEVice:CURRent?  
[:SENSe]: PNoise:XCORr:DEVice:CONnect?  
[:SENSe]:PNoise:XCORr:DEVice:DISConnect?  
[:SENSe]:PNoise:XCORr[:STATe] ON|OFF|0|1  
[:SENSe]:PNoise:XCORr[:STATe]?     
 
47 
 [:SENSe]:PNoise:XCORr:REFerence INTernal|EXTernal|RF  
[:SENSe]:PNoise:XCORr:REFerence?  
[:SENSe]:PNoise:XCORr:FACTor <int>  
[:SENSe]:PNoise:XCORr:FACTor?  
DISPlay:PNoise:XCORr:GINdicator[:STATe] ON|OFF|0|1  
DISPlay:PNoise:XCORr:GINdicator[:STATe]?  
DISPlay:PNoise:XCORr:COUNt[:STATe] ON|OFF|0|1  
DISPlay:PNoise:XCORr:COUNt[:STATe]?  
[:SENSe]:PNoise:XCORr:MEAS:RESTart  
[:SENSe]:PNoise:XCORr:MEAS:PROGress?  
Description  ACTive?, Returns true if second SM device is connected.  
LIST? , Returns a list of all SM devices that can be used as the second analyzer for 
cross correlation measurements.  
CURRent? , Returns the name of the second analyzer, if active.  
CONnect? , Connects the second analyzer. Must be one of the names returned from 
the LIST? Command.  
XCORr , Enable cross correlation. Both the PN400 and a second SM device should 
be connected prior to enabling cross correlation.  
XCORr:REFerence , Set the timebase reference of the cross correlation 
measurement system.  
XCORr:GINdicator , Show/hide the gain indicator.  
XCORr:COUNt , show/hide the cross correlation counts.  
MEAS:RESTART , Restarts a cross correlation measurement.  
MEAS:PROGRESS?,  Tracks the progress of the cross correlation measurement. If 
cross correlation is enabled, this will return a value between [0,XCorr factor]. Once 
the value reaches the factor, the measurement is complete. If this command returns 
-1, then cross correlatio n is not enabled. There is a small period after enabling cross 
correlation where this function will return -1.  
Example s :PN:XCORR:DEVICE:ACT?  
:PN:XCORR:DEVICE:LIST?  
:PN:XCORR:DEVICE:CONNECT? SOCKET::192.168.2.10::51665  
Software  
Controls  Phase Noise -> Configuration Control Panel -> Cross Correlation  
Couplings  None  
Preset   
Notes   
 
7.12.3  VCO Control  
These commands  allow connecting to and  control ling the PN400 . 
Command  [:SENSe]:PNoise:VCO:ACTive?  
[:SENSe]:PNoise:VCO:CONnect?  
[:SENSe]:PNoise:VCO:VOLTage[:STATe]  
[:SENSe]:PNoise:VCO:VOLTage[:STATe]?  
[:SENSe]:PNoise:VCO:VOLTage:SUPply:MIN <float>     
 
48 
 [:SENSe]: PNoise:VCO:VOLTage:SUPply:MIN?  
[:SENSe]:PNoise:VCO:VOLTage:SUPply:MAX <float>  
[:SENSe]:PNoise:VCO:VOLTage:SUPply:MAX?  
[:SENSe]:PNoise:VCO:VOLTage:SUPply <float>  
[:SENSe]:PNoise:VCO:VOLTage:SUPply?  
[:SENSe]:PNoise:VCO:VOLTage:TUNE:MIN <float>  
[:SENSe]:PNoise:VCO:VOLTage:TUNE:MIN?  
[:SENSe]:PNoise:VCO:VOLTage:TUNE:MAX <float>  
[:SENSe]:PNoise:VCO:VOLTage:TUNE:MAX?  
[:SENSe]:PNoise:VCO:VOLTage:TUNE <float>  
[:SENSe]:PNoise:VCO:VOLTage:TUNE?  
Description  ACTive?, Returns whether the PN400 is connected in the software.  
CONnect?,  Connects the PN400 and returns true if successful. If the PN400 is 
already connected, then returns true immediately.  
STATe , Enable/ disable the supply and tune output voltages . 
Example s  
Software  
Controls  Phase Noise -> Configuration Control Panel -> VCO Control  
Couplings  None  
Preset   
Notes  When entering phase noise mode, if a PN400 is detected, it will be automatically 
connected. It is still safe and reasonable to call the connect command to verify it is 
connected.  
 
The PN400 should be connected prior to enabling cross correlation.  
 
7.12.4  Traces  
There are 6 user configurable traces for phase noise measurements.  Any active user traces are 
updated after each phase noise sweep.  
Command  :TRACe:PNoise:SELect 1|2|3 |4|5|6 
:TRACe:PNoise:SELect?  
:TRACe:PNoise:TYPE OFF|NORMal|AVERage|REFerence |MINhold|MAXhold  
:TRACe:PNoise:TYPE?  
:TRACe:PNoise:AVERage:COUNt <int>  
:TRACe:PNoise:AVERage:COUNt?  
:TRACe:PNoise:UPDate[:STATe] ON|OFF|0|1  
:TRACe:PNoise:UPDate[:STATe]?  
:TRACe:PNoise:HIDE[:STATe] ON|OFF|0|1  
:TRACe:PNoise:HIDE[:STATe]?  
:TRACe:PNoise:SMOothing[:STATe] ON|OFF|0|1  
:TRACe:PNoise:SMOothing[:STATe]?  
:TRACe:PNoise:SMOothing:APERture <float>  
:TRACe:PNoise:SMOothing:APERture?  
:TRACe:PNoise:SPURReject[:STATe] ON|OFF|0|1     
 
49 
 :TRACe:PNoise:SPURReject[:STATe]?  
:TRACe:PNoise:SPURReject:THRESHold  <float> 
:TRACe:PNoise:SPURReject:THRESHold?  
:TRACe:PNoise:OFFSet <float>  
:TRACe:PNoise:OFFSet?  
:TRACe:PNoise:TO 1|2|3 |4|5|6 
:TRACe:PNoise:CLEar  
:TRACe:PNoise[:DATA] [:Y]? 
:TRACe:PNoise[:DATA]:X?  
Description  SELect , Specify the active trace index. All future operations will occur on this trace.  
TYPE , Specify the trace type. AVERage:COUNt  sweeps and REFerence  stops the 
trace from updating (effectively holding the current values.  
AVERage:COUNt , Specify the number of sweeps that will be averaged together 
when trace is set to average type.  
UPDate:STATe , Specify if the trace updates when a new sweep is acquired from 
the device.  
HIDE, hide s/shows the trace.  
SMOothing:STATe , Enable /disable smoothing.  
SMOothing:APE Rture , Specify the trace  smoo thing aperture as a %.  
SPURReject:STATe , Enable/disable trace spur rejection.  
SPURReject: THRESHold , Specify the spur reject threshold in dB.  
OFFset , Specify an of fset in dB. Immedia tely applies to  the trace.  
TO, Move the current trace to the selected trace. The selected trace type will be set 
to reference.  
CLEAr , Clear the current average accumulation.  
DATA:Y? Returns the trace data  amplitudes . The number of values returned is the 
number of decades in the sweep times 100.  
DATA:X? Returns the trace data frequencies.  The number of values returned is the 
number of decades in the sweep times 100.  
Example s TRAC:PN:SEL 1  
TRAC:PN:TYPE AVER  
TRAC:PN:AVER:COUN 20  
TRAC:PN:UPD ON  
TRAC:PN:TO 2  
TRAC:PN:CLEAR  
TRAC:PN:DATA?  
TRAC:PN:X?  
Software  
Controls  Phase Noise -> Measurements Control Panel -> Trace Settings  
Couplings  None  
Preset  Trace 1 enabled and set to normal. All trace features disabled or set to zero.  
Notes  Updates to the smoothing and spur reject settings have an immediate effect on the 
measurement.  
 
Traces are not updated in relation to their type until a new measurement occurs. For 
instance, when changing a tr ace type to max hold, the trace does not change at that     
 
50 
 point. It will only change when the next measurement update occurs. For this reason  
it is important to configure  your traces prior to performing  the measurements.  
 
7.12.5  Marker s 
There are 6 user configurable markers for phase noise measurements.  Each marker can be 
placed on one of the 3 user configurable traces. Delta measurements can be enabled. A reference 
marker is placed at the current marker location when the delta measurement is enabled.  
Command  :CALCulate:PNoise:MARKer:SELect 1|2|3|4|5|6  
:CALCulate:PNoise:MARKer:SELect?  
:CALCulate:PNoise:MARKer[:STATe] ON|OFF|0|1  
:CALCulate :PNoise:MARKer[:STATe]?  
:CALCulate:PNoise:MARKer:TRACe 1|2|3  
:CALCulate:PNoise:MARKer:TRACe?  
:CALCulate:PNoise:MARKer:DELTa ON|OFF|0|1  
:CALCulate:PNoise:MARKer:DELTa?  
:CALCulate:PNoise:MARKer:X <frequency>  
:CALCulate:PNoise:MARKer:X?  
:CALCulate:PNoise:MARKer:Y?  
Description  SELect , Specify the active marker index. All future operations will occur on this 
marker.  
STATe , Enable/disable the marker  
TRACe , Select  which trace the marker is placed on. The marker is updated 
immediately.  
DELTa , Enable/disable the delta marker. A reference marker is created when the 
delta functionality is enabled. It is possible to update the reference marker on an 
already active delta marker simply by enabling delta again.  
X, Set the marker frequency as an offset from the carrier frequency.  
X?, Query the frequency of the marker as a frequency offset from the carrier. If the 
reference marker is active, the frequency returned is the difference between the 
reference marker and the current position.  
Y?, Query the amplitude of the marker as dBc/Hz . If the ref. marker is active, the 
value returned is the dB difference between the ref. marker and the current position.  
Example s CALC:PN:MARK:SEL 1  
CALC:PN:MARK ON  
CALC:PN:MARK:TRAC 1  
CALC:PN:MARK:X 10kHz  
CALC:PN:MARK:DELT ON  
CALC:PN:MARK:Y?  
Software  
Controls  Phase Noise -> Measurements Control Panel -> Marker Settings  
Couplings  None  
Preset  Disabled by default.  
Notes    
    
 
51 
 7.12.6  Jitter Configuration  
Perform a jitter measurement on any of the 3 user traces.  
Command  :CALCulate:PNoise:JITTer[:STATe] ON|OFF|0|1  
:CALCulate:PNoise:JITTer[:STATe]?  
:CALCulate:PNoise:JITTer:TRACe 1|2|3  
:CALCulate:PNoise:JITTer:TRACe?  
:CALCulate:PNoise:JITTer:STARt <frequency>  
:CALCulate:PNoise:JITTer:STARt?  
:CALCulate:PNoise:JITTer:STOP <frequency>  
:CALCulate:PNoise:JITTer:STOP?  
:CALCulate:PNoise:JITTer:RMS?  
:CALCulate:PNoise:JITTer:PHASe?  
Description  STATe , Enable/disable the jitter measurement.  
TRACe , Specify the target trace of the jitter measurement.  
STARt , Specify the start frequency of the jitter measurement as an offset from the 
carrier frequency.  
STOP , Specify the stop frequency of the jitter measurement as an offset from the 
carrier frequency.  
RMS? , Query the RMS Jitter of the measurement in seconds.  
PHASe? , Query the Phase Jitter of the measurement in radians.  
Example s :CALC:PN:JITT ON  
:CALC:PN:JITT:STAR 1KHz  
:CALC:PN:JITT:STOP 1MHz  
:CALC:PN:JITT:RMS?  
:CALCULATE :PNOISE:JITTER:PHASE?  
Software  
Controls  Phase Noise -> Measurements Control Panel -> Jitter Settings  
Couplings  None  
Preset  Disabled by default.  
Notes   
 
7.13 Harmonic Measurements  
7.13.1  Configuration  
These commands configure the harmonic  measurement.  
Command  [:SENSe]: HARMonics:NUMBer <int>  
[:SENSe]:HARMonics:NUMBer?  
[:SENSe]:HARMonics:TRACKing[:STATe] ON|OFF|0|1  
[:SENSe]:HARMonics:TRACKing[:STATe]?  
[:SENSe]:HARMonics:MODE PEAK | CHPower  
[:SENSe]:HARMonics:MODE?  
[:SENSe]:HARMonics:FREQuency:FUNDamental  <freq>|UP|DOWN  
[:SENSe]:HARMonics:FREQuency:FUNDamental?     
 
52 
 [:SENSe]:HARMonics:FREQuency:STEP[:INCRement] <freq>  
[:SENSe]:HARMonics:FREQuency:STEP[:INCRement]?  
[:SENSe]:HARMonics:FREQuency:SPAN <freq>  
[:SENSe]:HARMonics:FREQuency:SPAN?  
[:SENSe]:HARMonics: BANDwidth[:RESolution] <freq>  
[:SENSe]:HARMonics:BANDwidth[:RESolution]?  
[:SENSe]:HARMonics:BANDwidth:VIDeo <freq>  
[:SENSe]:HARMonics:BANDwidth:VIDEO?  
[:SENSe]:HARMonics:POWer[:RF]:RLEVel <double>  
[:SENSe]:HARMonics:POWer[:RF]:RLEVel?  
[:SENSe]:HARMonics:VIEW:RLEVel <double>  
[:SENSe]:HARMonics:VIEW:RLEVel?  
[:SENSe]:HARMonics:VIEW:PDIVision <double>  
[:SENSe]:HARMonics:VIEW:PDIVision?  
[:SENSe]:HARMonics:TRACe:TYPE WRITe|MAXhold  
[:SENSe]:HARMonics:TRACe:TYPE?  
Description  NUMBer , Specify the number of harmonics to be measured and displayed on screen.  
MODE , Specify the measurement mode for a harmonics peak amplitude. When peak 
is selected, a peak search algorithm is performed on the measured span. When 
channel power is selected over the entire measured harmonic span.  
TRACKing:STATe , When enabled the fundamental frequency is tracked. When 
peak measurement mode is selected, the frequency of the peak is used, when 
channel power measurement mode is selected, the center of the occupied 
bandwidth is tracked. With tracking enabled, the har monics are measured at 
multiples of the measured fundamental and the fundamental is always drawn 
centered on the measured frequency.  
FREQuency:FUNDamental , Specify the center frequency of the 1st harmonic or 
fundamental.  
FREQuency:STEP[:INCRement],  Specify the step frequency. Used to step the 
fundamental frequency.  
FREQuency:SPAN , Specify the span of each measurement window at each 
harmonic.  
BANDwidth[:RESolution],  Specify the RBW of the measurement at each 
harmonic.  
BANDwidth:VIDeo , Specify the VBW of the measurement at each harmonic.  
POWer[:RF]:RLEVel , Specify the  measurement reference level as dBm. This 
value should be greater than the expected input power to prevent IF/ADC overload.  
VIEW:RLEVel , Specify the plot reference level as dBm. This affects only the plot y -
axis. 
VIEW:PDIVision , Specify the division height of the plot in dB. The division height 
is 1/10th of the plot height.  
TRACe:TYPE , Specify the trace behavior.  
Example s :HARM:NUMB 8  
:HARM:MODE PEAK  
:HARM:FREQ:FUND 1GHz  
:HARM:FREQ:STEP  1KHZ    
 
53 
 :HARM:FREQ:FUND DOWN  
:HARM:FREQ:SPAN 10kHz  
:HARM:BAND:RES 100Hz; VID 100Hz  
:HARM:POW:RF:RLEV 0  
:HARM:VIEW:RLEV 5; PDIV 10  
:HARM:TRAC:TYPE WRITE  
Software  
Controls  Harmonic Settings Panel -> Center Freq  
Harmonic Settings Panel -> Step  
Harmonic Settings Panel -> Span  
Harmonic Settings Panel -> RBW  
Harmonic Settings Panel -> VBW  
Harmonic Settings Panel -> Input Level  
Harmonic Settings Panel -> Disp Ref  
Harmonic Settings Panel -> Div  
Harmonic Settings Panel -> Harm Count  
Harmonic Settings Panel -> Meas Type  
Harmonic Settings Panel -> Trace Type  
Couplings  VBW must be less than or equal to RBW  
Preset   
Notes  Span and RBW are limited.  
 
7.13.2  Fetch Results  
These commands retrieve the measurement results of the harmonic measurement. These 
commands do not issue a resweeps nor wait for a completed measurement. It is recommended 
to configure the software for single triggered measurements and using the INIT  and *OPC?  
commands to initiate and wait for a measurement to complete before fetching measurement 
results.  
Command  [:SENSe]:FETCh:HARMonics:FREQuency? <int>  
[:SENSe]:FETCh:HARMonics:AMPLitude? <int>  
[:SENSe]:FETCh:HARMonics:DISTortion?  
Description  FREQuency? , Fetch the specified harmonics peak frequency.  
AMPLitude?,  Fetch the specified harmonics amplitude in dBm.  
DISTortion?,  Fetch the measured total harmonic distortion in %  
Example s :SENS:FETC:HARM:FREQ? 1  (Fetch the fundamental harm. freq)  
:FETC:HARM:FREQ? 10 (Fetch the 10th harm.  freq) 
:FETC:HARM:AMPL? 2  
:FETC:HARM:DIST?  
Software  
Controls  N/A 
Couplings  None  
Preset   
Notes   
    
 
54 
 7.14 Analog Demodulation  
7.14.1  Configuration  
Command  [:SENSe]: ADEMod:FREQuency:CENTer <freq> |UP|DOWN  
[:SENSe]:ADEMod :FREQuency:CENTer?  
[:SENSe]:ADEMod :FREQuency:CENTer:STEP[:INCRement] <freq>  
[:SENSe]:ADEMod :FREQuency:CENTer:STEP[:INCRement]?  
[:SENSe]:ADEMod :POWer[: RF]:RLEVel <amplitude>  
[:SENSe]:ADEMod :POWer[: RF]:RLEVel? 
[:SENSe]:ADEMod :LPFilter <freq>  
[:SENSe]:ADEMod :LPFilter?  
Description  CENTer , Specify the measurement center frequency.  
STEP, Specify the center frequency step amount when using the UP|DOWN  
parameters . 
RLEVel, Specify the measurement reference level. This should be large than the 
highest expected input power.  
LPFilter , Specify the analog low pass filter cutoff frequency.  
Example s ADEMOD:FREQ:CENT 1GHz  
ADEMOD:FREQ:CENT UP  
ADEMOD:FREQ:CENT:STEP 1KHz  
ADEMOD:POW:RLEV -20DBM 
ADEMOD:LPF 10KHZ  
Software  
Controls  Analog Demod Controls -> Center Freq  
Analog Demod Controls -> Step  
Analog Demod Controls -> Input Level  
Analog Demod Controls -> Low Pass Freq  
Couplings  None  
Preset   
Notes   
 
7.14.2  Fetch Results  
Command  :FETCh:ADEM od:AM? <int>  
:FETCh:ADEM od:FM? <int>  
Description  AM?, Fetch AM demodulation metrics.  The integer  parameter  specifies the metric to 
retrieve.  Possible integer values are below. Can specify a list of metrics to request 
as comma separated list. The metrics will be returned as a comma separated list in 
the order they were requested.  
1. Returns carrier frequency in Hz  
2. Returns carrier power in dBm  
3. Returns AM modulation rate in Hz  
4. Returns AM Depth (RMS) as %  
5. Returns AM Depth (Peak+) as %  
6. Returns AM Depth (Peak -) as %  
7. Returns AM SINAD as dB  
8. Returns AM THD as %     
 
55 
  
FM?, Fetch FM demodulation metrics.  The integer provided specifies the metric to 
retrieve.  Possible integer values are below.  Can specify a list of metrics to request 
as comma separated list. The metrics will be returned as a comma separated list in 
the order they were requested.  
1. Returns carrier frequency in Hz  
2. Returns carrier power in dBm  
3. Returns FM modulation rate in Hz  
4. Returns FM Depth (RMS) in Hz  
5. Returns FM Depth (Peak+) in Hz  
6. Returns FM Depth (Peak -) in Hz  
7. Returns FM SINAD as dB  
8. Returns FM THD as %  
Example s :FETCH:ADEMOD:AM? 1,2,3,4,5,6,7,8  
:FETCH:ADEMOD:FM? 7 ,8 
Software  
Controls  N/A 
Couplings  None  
Preset   
Notes   
 
7.15 Digital Demodulation  
7.15.1  Configuration  
7.15.1.1  Measurement  
These commands modify the  digital demod  measurement parameters.  
Command  [:SENSe]: DDEMod:FREQuency:CENTer <freq> |UP|DOWN  
[:SENSe]: DDEMod:FREQuency:CENTer?  
[:SENSe]:DDEMod:FREQuency:CENTer:STEP[:INCRement] <freq>  
[:SENSe]:DDEMod:FREQuency:CENTer:STEP[:INCRement]?  
[:SENSe]:DDEMod:POWer[:RF]:RLEVel <amplitude>  
[:SENSe]:DDEMod:POWer[:RF]:RLEVel?  
[:SENSe]:DDEMod:SRATe <freq>  
[:SENSe]:DDEMod:SRATe?  
[:SENSe]:DDEMod:MODulation 
BPSK|DBPSK|QPSK|DQPSK|OQPSK|PI4QPSK|8PSK|D8PSK|QAM16| 
QAM32|QAM64|QAM256 |QAM1024 |FSK2|FSK4| FSK8|FSK16| ASK2|CUSTom 
[:SENSe]:DDEMod:MODulation?  
[:SENSe]:DDEMod:RLENgth <int>  
[:SENSe]:DDEMod:RLENgth?  
[:SENSe]:DDEMod:FILTer NYQuist|RNYQuist|GAUSsian |RECTangle  
[:SENSe]:DDEMod:FILTer?  
[:SENSe]:DDEMod:FILTer:ABT <double>  
[:SENSe]:DDEMod:FILTer:ABT?     
 
56 
 [:SENSe]:DDEMod:IFBWidth:AUTO ON|OFF|0|1  
[:SENSe]:DDEMod:IFBWidth:AUTO?  
[:SENSe]:DDEMod:IFBWidth <freq>  
[:SENSe]:DDEMod:IFBWidth?  
[:SENSe]:DDEMod:AVERage[:STATe] ON|OFF|0|1  
[:SENSe]:DDEMod:AVERage[:STATe]?  
[:SENSe]:DDEMod:AVERage:COUNt <int>  
[:SENSe]:DDEMod:AVERage:COUNt?  
[:SENSe]:DDEMod:WCE[:STATe] ON|OFF|0|1  
[:SENSe]:DDEMod:WCE[:STATe]?  
[:SENSe]:DDEMod:WCE:RANge <freq>  
[:SENSe]:DDEMod:WCE:RANge?  
Description  CENTer , Set the center frequency of the measurement.  
CENTer:STEP , Set the center frequency step amount.  
RLEV , Set the reference level of the measurement. This value should be higher than 
the expected peak power of the input signal. Setting it closer to the actual peak input 
will optimize for dynamic range.  
SRATe , Specify the sample rate of the input modulated signal.  
MODulation , Specify the modulation type of the input signal.  
RLENgth , Specify the measurement window length in symbols.  
FILTer , Specify the measurement and reference filter.  
ABT, Specify the filter alpha/beta coefficient.  
IFBWidth:AUTO , When enabled, the Spike software will automatically choose an 
appropriate IF bandwidth for the measurement, (usually 2x the sample rate)  
IFBWidth , Specify the IF bandwidth, only active when AUTO is set to false.  
AVERage:STATe , Enable measurement averaging.  
AVERage , Specify the average count.  
WCE:STATe , Enable wide carrier estimation.  
WCE:RANge , Set the wide carrier estimation range.  
Example s :DDEM:FREQ:CENT 400MHZ  
:ddem:pow:rlev -20dbm 
:DDEM:SRAT 1MHz  
:DDEM:MOD FSK2  
:ddemod:rlength 127  
:ddemod:filter rnyquist  
:DDEM:FILT:ABT 0.22  
:DDEM:IFBW:AUTO ON  
:DDEM:IFBW 2MHz  
:DDEM:AVER ON  
:DDEM:AVER:COUN 10  
:DDEM:WCE ON  
:DDEM:WCE:RANGE 2MHZ  
Software  
Controls  Modulation Analysis Control Panel -> Center Freq  
Modulation Analysis Control Panel -> Freq Step  
Modulation Analysis Control Panel -> Input Power  
Modulation Analysis Control Panel -> Sample Rate     
 
57 
 Modulation Analysis Control Panel -> Symbol Count  
Modulation Analysis Control Panel -> Modulation  
Modulation Analysis Control Panel -> Source Filter  
Modulation Analysis Control Panel -> Filter Alpha  
Modulation Analysis Control Panel -> Auto IF BW  
Modulation Analysis Control Panel -> IF BW  
Modulation Analysis Control Panel -> Averaging  
Modulation Analysis Control Panel -> Average Count  
Modulation Analysis Control Panel -> Wide Carrier Estimation Enabled  
Modulation Analysis Control Panel -> Wide Carrier Estimation Range  
Couplings  None  
Preset  IF bandwidth set to auto  
Averaging enabled  
Notes   
 
7.15.1.2  Custom Modulation  
Command  [:SENSe]:DDEMod:CUSTom:IQ:VALid?  
[:SENSe]:DDEMod:CUSTom:IQ:LENGth?  
[:SENSe]:DDEMod:CUSTom:IQ:DATA <float>,<float>,…,<float>  
[:SENSe]: DDEMod:CUSTom:IQ:DATA?  
Description  VALid? , Returns 1 when the custom constellation is valid.  
LENGth? , Returns the number of symbols in the custom constellation.  
DATA , Specify the constellation symbols as IQ values. IQ values are specified as 
comma separate d real numbers , alternating IQ values . If an odd number of real 
values are provided the last value is ignored. If any value is an invalid real number, 
the command fails and throws a system error.  While not strictly necessary, it is 
suggested to scale the constellation so that the maximum symbol magnitude is 1.  
See the example below.  
DATA?,  Returns the constellation symbols as a comma separated list of alternating 
IQ values.  
Example s :DDEM:CUST:IQ:VAL?  
:DDEM:CUST:IQ:LENG?  
 
Specify  the constellation for QPSK  
IQ values are specified as alternating real/imaginary pairs  
I1,Q1,I2,Q2,…,In,Qn  
:DDEM:CUST:IQ:DATA 1,1, -1,1,-1,-1,1,-1 
The command above specifies a constellation with the  4 points  
[1,1],  [-1,1], [-1,-1], [1,-1] 
 
The response from DATA? is in the same format at the DATA command above.  
:DDEM:CUST:IQ:DATA?  
Software  
Controls  Modulation Analysis Control Panel -> Edit Custom Mod  
Couplings  None     
 
58 
 Preset  Custom mod is empty by default . 
Notes   
 
7.15.1.3  Trigger  
Command  :TRIGger:DDEMod:SOURce IMMediate|IF |EXTernal  
:TRIGger:DDEMod:SOURce?  
:TRIGger:DDEMod:IF:LEVel <amplitude>  
:TRIGger:DDEMod:IF:LEVel?  
:TRIGger:DDEMod:DELay <int>  
:TRIGger:DDEMod:DELay?  
Description  SOURce , Specify the trigger type.  
IF:LEVel, Specify the trigger level of  the IF trigger.  
DELay , Specify the trigger delay of the IF  or ext  trigger, the number of symbols after 
the trigger to start the measurement.  
Example s :TRIG:DDEM:SOUR IF 
:TRIG:DDEM:IF:LEV -50DBM 
:TRIG:DDEM:DELAY 100  
Software  
Controls  Modulation Analysis Control Panel -> Trigger Type  
Modulation Analysis Control Panel -> Trigger Level  
Modulation Analysis Control Panel -> Trig ger Delay  
Couplings  None  
Preset  Source set to immediate . 
Delay set to 0 . 
Notes   
 
7.15.1.4  Sync Search  
These commands affect the sync pattern search.  
Command  [:SENSe]:DDEMod:SYNC[:STATe] ON|OFF|0|1  
[:SENSe]:DDemod:SYNC[:STATe]?  
[:SENSe]:DDEMod:SYNC:SWORd:PATTern <hex string>  
[:SENSe]:DDEMod:SYNC:SWORd:PATTern?  
[:SENSe]: DDEMod:SYNC:SWORd:LENGth <int>  
[:SENSe]:DDEMod:SYNC:SWORd:LENGth?  
[:SENSe]:DDEMod:SYNC:SLENgth <int>  
[:SENSe]:DDEMod:SYNC:SLENgth?  
[:SENSe]:DDEMod:SYNC:OFFSet <int>  
[:SENSe]:DDEMod:SYNC:OFFSet?  
Description  STATe , Enable/disable sync search.  
SWORd:PATTern , The pattern to trigger on for the trigger pattern. Patterns will be 
converted to uppercase when provided otherwise.     
 
59 
 SWORd:LENGth , The length in symbols of the pattern trigger. The pattern length is 
not necessarily the same length as the pattern itself. A shorter length uses only a 
portion of the pattern and a longer length pads the pattern with ‘zeros’  
SLENgth , Search length for the pattern trigger.  
OFFSet , Offsets the measurement from the beginning of a successful sync search. 
Can be negative.  
Example s :DDEM:SYNC ON 
:DDEM:SYNC:SWOR:PATT AA11  
:DDEM:SYNC:SWOR:LENG 16  
:DDEM:SYNC:SLEN 1000  
:DDEM:SYNC:OFFS -128 
Software  
Controls  Modulation Analysis Control Panel -> Sync Search -> Enabled  
Modulation Analysis Control Panel -> Sync Search -> Pattern  
Modulation Analysis Control Panel -> Sync Search -> Pattern Length  
Modulation Analysis Control Panel -> Sync Search -> Search Length  
Modulation Analysis Control Panel -> Sync Search -> Offset  
Couplings  None  
Preset  Sync search disabled.  
Offset is 0.  
Notes   
 
7.15.1.5  Compensation  
These commands determine what type of compensations are performed on the measurement. 
When the compensations are active, they are performed before error metrics are measured.  
Command  [:SENSe]: DDEMod:COMPensate:IQINVersion[:STATe]  ON|OFF|0|1  
[:SENSe]:DDEMod:COMPensate:IQINVersion[:STATe]?  
[:SENSe]:DDEMod:COMPensate:IQOFFset[:STATe]  ON|OFF|0|1  
[:SENSe]:DDEMod:COMPensate:IQOFFset[:STATe]?  
[:SENSe]:DDEMod:COMPensate:ADRoop[:STATe]  ON|OFF|0|1  
[:SENSe]:DDEMod:COMPensate:ADRoop[:STATe]?  
Description  IQINVersion , Enabled or disable IQ swap  
IQOFFset , When enabled, IQ offset is removed from the signal.  
ADRoop , When  enabled, linear amplitude errors are corrected for in the signal.  
Example s :DDEM:COMP:IQINV ON  
:DDEMOD:COMPENSATE:IQOFFSET:STATE 1  
:DDEM:COMP:ADR?  
Software  
Controls  Modulation Analysis Control Panel -> I/Q Inversion  
Modulation Analysis Control Panel -> IQ Offset  
Modulation Analysis Control Panel -> Ampl Droop  
Couplings  None  
Preset  I/Q Offset enabled by default  
I/Q inversion disabled by default  
Ampl droop disabled by default     
 
60 
 Notes   
 
7.15.1.6  Equalization  
These commands affect the adaptive equalizer.  
Command  [:SENSe]:DDEMod: EQUalization [:STATe] ON|OFF|0|1  
[:SENSe]:DDEMod:EQUalization[:STATe]?  
[:SENSe]:DDEMod:EQUalization:LENGth <int>  
[:SENSe]:DDEMod:EQUalization:LENGth?  
[:SENSe]:DDEMod:EQUalization:CONVergence <double>  
[:SENSe]: DDEMod:EQUalization:CONVergence?  
[:SENSe]:DDEMod:EQUalization:HOLD[:STATe] ON|OFF|0|1  
[:SENSe]:DDEMod:EQUalization:HOLD[:STATe]?  
[:SENSe]:DDEMod:EQUalization:RESet  
Description  STATe , Enabled or disable  equalization.  
LENGth , Length of the equalization filter in symbols.  Must be odd.  
CONVergence , Adaptive rate. Higher number adapt faster but are more unstable.  
HOLD , When enabled, adaptation step is bypassed but equalization is still applied.  
RESet , Resets the equalization filter to the unit impulse response (pass through).  
Example s :DDEM:EQU ON  
:DDEM:EQU:LENG 15  
:DDEM:EQU:CONV 10.0  
:DDEM:EQU:HOLD ON  
:DDEM:EQU:RESET  
Software  
Controls  Modulation Analysis Control Panel -> Equalization -> Enabled  
Modulation Analysis Control Panel -> Equalization -> Filter Len  
Modulation Analysis Control Panel -> Equalization -> Convergence  
Modulation Analysis Control Panel -> Equalization -> Hold  
Modulation Analysis Control Panel -> Equalization -> Reset  
Couplings  None  
Preset  Equalization is disabled.  
Filter Length is 5.  
Convergence is 1.0.  
Hold is off.  
Notes   
 
7.15.2  Sweep  
These functions are used to retrieve spectrum  data from the digital demodulation measurement 
mode.  
Command  [:SENSe]:DDEMod:TRACe:SWEep:XSTARt?  
[:SENSe]:DDEMod:TRACe:SWEep:XINCrement?  
[:SENSe]:DDEMod:TRACe:SWEep:POINts?     
 
61 
 [:SENSe]:DDEMod:TRACe:SWEep:DATA?  
Description  XSTARt?, Get the frequency  value associated with the first sample in the returned 
data.  
XINCrement? , Get the frequency  spacing for the samples in the returned data.  
POINts? , Get the number of points returned by the DATA function.  
DATA? , Get the spectrum  trace.  
Example s  
Software  
Controls  N/A 
Couplings  None  
Preset   
Notes   
 
7.15.3  Fetch Results  
These functions are used to retrieve the measurement results. Fetch commands do not perform 
any measurement. The measurement must be performed with the INIT command when in single 
trigger mode or  can be retrieved at any time in continuous measurement mode.  
Command  :FETCh:DDEMod? <int> 
Description  DDEMod?, Fetch digital  demodulation metrics. The integer parameter specifies the 
metric to retrieve. Possible integer values are below. Can specify a list of metrics to 
request as comma separated list. The metrics will be returned as a comma 
separated list in the order they wer e requested.  
 
1. RMS EVM average as %  
2. RMS EVM peak as %  
3. RMS mag error average as %  
4. RMS ma g error peak  as %  
5. RMS phase error average as %  
6. RMS phase error peak as %  
7. IQ offset average as dB  
8. IQ offset peak as dB  
9. Frequency error average as Hz  
10. Frequency error peak as Hz  
11. RF power average as dBm  
12. RF power peak as dBm  
13. SNR average as dB  
14. SNR peak as dB  
15. RMS FSK error average as %  
16. RMS FSK error peak as %  
17. FSK deviation avg as Hz  
18. FSK deviation peak as Hz  
29. Current average count  
30. Demod bits as binary string     
 
62 
  
40. Constellation result length (see 41). Length in complex samples for PSK/QAM 
demodulations, or frequency samples for FSK demodulations.  
 
41. Constellation results. This returns the I/Q values displayed on the constellation 
plot. When PSK/QAM demodulation is active, this is an array of complex values, and 
when FSK is selected, this is an array of scaled frequency values. This array is equal 
in length to the value returned in 40. This length is the symbol count times the 
oversample rate. For instance, with a symbol count of 128 and oversample rate of 
16, this array should be 2048 samples (either complex or  real). In this example, 
every 16th sample is the sampled symbol, with the transitions in -between. If FSK is 
selected, a real array is returned . The FSK frequency array returned should be 
scaled by the average frequency deviation returned in 17  (i.e. multiply every value in 
the returned array by the FSK avg dev).  For complex  constellation results, it is 
recommended to return to set :FORMAT:IQ  to ascii (default), otherwise the I/Q data 
will be scaled to full scale 16 -bit binary.  
 
Example s :FETCH:DDEMOD ? 1,2,3,4,5,6,7,8  
:FETCH:DDEMOD ? 7,8 
Software  
Controls  N/A 
Couplings  None  
Preset   
Notes   
7.16 Spectrum Emission Mask  
7.16.1  Configuration  
These commands control the receiver and measurement configuration in the spectrum emission 
mask mode.  
7.16.1.1  Frequency  
These commands control the frequency range of the sweeps in spectrum emission mask mode.  
Command  [:SENSe]: SEMask:FREQuency:CENTer <freq>|UP|DOWN  
[:SENSe]: SEMask:FREQuency:CENTer?  
[:SENSe]: SEMask:FREQuency:CENTer:STEP[:INCRement] <freq>  
[:SENSe]: SEMask:FREQuency:CENTer:STEP[:INCRement]  
[:SENSe]: SEMask:FREQuency:SPAN <freq>  
[:SENSe]: SEMask:FREQuency:SPAN?  
Description  CENTer , Set the center frequency of the measurement.  
CENTer:STEP , Set the center frequency step amount.  
SPAN , Set the sweep span.  
Example s :SEMask:FREQ:CENT 1GHz  
:SEM:FREQUENCY:CENTER?  
:semask:freq:cent up    
 
63 
 :sem:freq:span 20mhz 
:SEMASK:FREQUENCY:CENTER:STEP 10 e3 
Software  
Controls  SEM Settings Control Panel -> Frequency -> Center  Freq 
SEM Settings Control Panel -> Frequency -> Step 
SEM Settings Control Panel -> Frequency -> Span  
Couplings  Span is coupled with RBW and VBW. It is recommended to set RBW and VBW to 
auto whenever changing the span by large factors.  
Preset  None  
Notes  Changing any frequency setting will trigger a re-sweep.  
 
7.16.1.2  Bandwidth  
These commands control the FFT processing for the receivers. These settings are highly coupled 
with the frequency range. Additionally, there are several RBW/VBW restrictions present based on 
device type and span.  
Command  [:SENSe]:SEMask:BANDwidth[: RESolution] <freq> |UP|DOWN  
[:SENSe]:SEMask:BANDwidth[: RESolution]?  
[:SENSe]:SEMask:BANDwidth[: RESolution]:AUTO ON|OFF|0|1  
[:SENSe]:SEMask:BANDwidth[: RESolution]:AUTO?  
[:SENSe] :SEMask:BANDwidth:VIDeo  <freq>|UP|DOWN  
[:SENSe] :SEMask:BANDwidth:VIDeo?  
[:SENSe]:SEMask:BANDwidth: VIDeo:AUTO ON|OFF|0|1  
[:SENSe]:SEMask:BANDwidth: VIDeo:AUTO? 
Description  RESolution , Specify the RBW. If UP or DOWN is specified, the RBW is stepped in 
a 1/3/10 sequence.  
VIDeo , Specify the VBW. If UP or DOWN is specified, the VBW is stepped in a 
1/3/10 sequence.  
Example s :SEMask:BAND:RES 10kHz  
:SENS:SEMask:BANDWIDTH: VIDEO 1e6 
:SEM:BAND:VID? 
semask:band :vid:auto on 
Software  
Controls  SEM Settings Control Panel -> Bandwidth -> RBW  
SEM Settings Control Panel -> Bandwidth -> Auto RBW  
SEM Settings Control Panel -> Bandwidth -> VBW  
SEM Settings Control Panel -> Bandwidth -> Auto VBW  
Couplings  RBW is coupled with VBW and Span. RBW will also have additional restrictions 
depending on the active device. If you are changing the span by more than a large 
factor (>2 -4) then it is suggested to set RBW and VBW to auto before changing 
span.  
VBW is also coupled with sweep time. In most cases, if sweep time implies a lower 
VBW settings, then the lower setting is used (internally only).  
Preset  RBW is set to auto by default.  
VBW is set to auto by default.  
Notes  Changing any bandwidth setting will trigger a re -sweep.  
    
 
64 
 7.16.1.3  Amplitude  
These commands affect the RF front end of the device.  
Command  [:SENSe]:POWer[:RF]:RLEVel < double> 
[:SENSe]:POWer[:RF]:RLEVel?  
[:SENSe]:POWer[:RF]:PDIVision <double>  
[:SENSe]:POWer[:RF]:PDIVision?  
Description  RLEVel , Set the reference level  in dBm . 
PDIVision , specify the plot vertical division (1/10th of the plot height) as dB. 
Logarithmic scale only.  
Example s :SEM:POWER:RF:RLEVEL -20 
:SEM:POW:PDIV 6  
Software  
Controls  SEM Settings Control Panel -> Amplitude -> Ref Level  
SEM Settings Control Panel -> Amplitude -> Div  
Couplings  None  
Preset  The default value of reference level is device dependent.  
Div is set to 10 by default.  
Notes  Changing any of these settings will trigger a re -sweep.  
 
7.16.1.4  Detector / Trace  
These commands control the detector and trace  settings of the receiver.  
Command  [:SENSe]: SEMask:SWEep:DETector:FUNCtion AVERage|MINMAX  
[:SENSe]: SEMask:SWEep:DETector:FUNCtion?  
[:SENSe]: SEMask:SWEep:DETector:UNITs POWer|SAMPle|VOLTage|LOG  
[:SENSe]: SEMask:SWEep:DETector:UNITs?  
:TRACe:SEMask:TYPE WRITe|MAXhold  
:TRACe:SEMask:TYPE?  
Description  DETector:FUNCtion , Controls how the VBW processing is performed. If average, 
overlapping FFTs are averaged together. If min/max, overlapping FFTs are min/max 
held.  
DETector:UNITs , Controls the units in which the detector function is performed in.  
TYPE , Specify the trace type. Select WRITE  for the standard clear/write operation, 
and MAXHOLD  to persist the maximum amplitudes at each frequency bin.  
Example s :SEM:SWEEP: DET:FUNC AVER  
:SEM:SWEEP: DETECTOR:FUNCTION?  
semask:sweep:det :unit pow  
:TRACe:SEMask:TYPE WRITE  
Software  
Controls  SEM Settings Control Panel -> Detector / Trace  -> Detector  
SEM Settings Control Panel -> Detector / Trace -> Video Units  
SEM Settings Control Panel -> Detector / Trace -> Trace Type  
Couplings  The trace type determines the data that will be measured against the mask.  
Preset  Detector is set to average by default.  
Detector units is set to power by default.  
Trace type is set to clear/write by default.     
 
65 
 Notes  Changing any of these settings will trigger a re -sweep.  
7.16.1.5  Measurement Reference  
These commands control the configuration of the reference used in mask construction . 
Command  [SENSe:]SEMask:REF:TYPE  PSD|PEAK|DIRect  
[SENSe:]SEMask:REF:TYPE?  
[SENSe:]SEMask:REF:BANDwidth:MODE  AUTO|MANual  
[SENSe:]SEMask:REF:BANDwidth:MODE ? 
[SENSe:]SEMask:REF:BANDwidth  <freq> 
[SENSe:]SEMask:REF:BANDwidth?  
[SENSe:]SEMask:REF:LEVEL  <double>  
[SENSe:]SEMask:REF:LEVEL?  
Description  REF:TYPE , Controls how the reference measurement is taken. PSD performs a 
channel power computation , PEAK  does a peak search, and DIRECT uses the 
amplitude value set directly by user.  
REF:BANDwidth:MODE , Controls the mode of setting the width of the measurement 
band. AUTO  chooses a value automatically, MANUAL  uses a width entered by user.  
REF:BANDwidth , Controls the width of the measurement band in manual mode.   
REF:LEVEL , Controls the reference amplitude level in direct set mode.  
Example s :SEM:REF:TYPE PSD 
:SEM:REF:BANDWIDTH :MODE MAN  
:SEM:REF:BAND 100MHZ  
:SEMask:REF:BAND ? 
semask:ref:level -20 
Software  
Controls  SEM Settings Control Panel -> Measurement Reference  -> Meas Type  
SEM Settings Control Panel -> Measurement Reference -> Width Set  
SEM Settings Control Panel -> Measurement Reference -> Width  
SEM Settings Control Panel -> Measurement Reference -> Reference  
Couplings  The width mode sets whether the width is used for channel power and peak 
calculations.  The reference measurement type determines whether the direct set 
level is used in measurement.  
Preset  Reference measurement type is set to PEAK  by default  
Width mode is set to AUTO  by default.  
Notes  Changing any of these settings will trigger a re -sweep.  
7.16.2  Offset Table  
These functions load data into offset tables in memory and read back offset table defining the 
current mask.  
Command  [SENSe:]SEMask:OFFSet:DATA <enabled1>, <startFreq1>, 
<stopFreq1>, <startLimit1>, <stopLimit1>, <mode1>, …  
[SENSe:]SEMask:OFFSet:DATA?  
Description  OFFSet:DATA , Specify the sets of offset parameters in the offset table in memory as 
the current mask. This will override any existing offsets. Offsets are specified as sets 
of six parameters:     
 
66 
  
enabled:  ON|OFF|0|1  
startFreq: <freq>  
startLimit: <freq>  
stopLimit: <double>  
startFreq: <double>  
mode: RELative|ABSolute  
Example s :SEMASK:OFFSET:DATA 1, 13E6, 37E6, -13, -37, REL, OFF, 7MHZ, 
11E6, -7, -11, ABSOLUTE 
Software  
Controls  Offset Table  
Couplings  These offsets define the mask the trace is currently being tested against.  
Preset   
Notes   
 
 
7.16.3  Measurement  
These functions return measurements from spectrum emission mask mode, testing the trace 
against the current mask defined in the offset table.  
Command  [SENSe:]SEMask:CARRier:POWer?  
[SENSe:]SEMask:OFFSet:FAIL?  
[SENSe:]SEMask:OFFSet[1 -16]:FAIL?  
[SENSe:]SEMask:OFFSet[1 -16]:LOWer:FAIL?  
[SENSe:]SEMask:OFFSet[1 -16]:UPper:FAIL?  
[SENSe:]SEMask:OFFSet[1 -16]:MARgin?  
[SENSe:]SEMask:OFFSet[1 -16]:MARgin:LOWer?  
[SENSe:]SEMask:OFFSet[1 -16]:MARgin:UPper?  
[SENSe:]SEMask :OFFSet[1 -16]:PEAK:LEVel:LOWer?  
[SENSe:]SEMask:OFFSet[1 -16]:PEAK:LEVel:UPper?  
[SENSe:]SEMask:OFFSet[1 -16]:PEAK:FREQuency:LOWer?  
[SENSe:]SEMask:OFFSet[1 -16]:PEAK:FREQuency:UPper?  
Description  CARRier:POWer? , Retrieves the current power used as the reference for the 
masks.  
OFFSet:FAIL? , Returns 1 if mask fails, 0 if passes.  
OFFSet[1 -16]:FAIL? , Returns 1 if specified offset fails, 0 if it passes.  
OFFSet[1 -16]:LOWer:FAIL? , Returns 1 if lower range of specified offset fails, 0 
if it passes.  
OFFSet[1 -16]:UPper:FAIL? , Returns 1 if upper range of specified offset fails, 0 
if it passes.  
OFFSet[1 -16]:MARgin? , Retrieves  worst margin (limit - peak) of specified offset.  
OFFSet[1 -16]:MARgin:LOWer? , Retrieves margin (limit - peak) of lower range of 
specified offset.     
 
67 
 OFFSet[1 -16]:MARgin:UPper? , Retrieves margin (limit - peak) of upper range of 
specified offset.  
OFFSet[1 -16]:PEAK:LEVel:LOWer? , Retrieves  peak level of lower range of 
specified offset.  
OFFSet[1 -16]:PEAK:LEVel:UPper? , Retrieves  peak level of upper range of 
specified offset.  
OFFSet[1 -16]:PEAK:FREQuency:LOWer? , Retrieves  frequency at peak of lower 
range of specified offset.  
OFFSet[1 -16]:PEAK:FREQuency:UPper? , Retrieves  frequency at peak of upper 
range of specified offset.  
Example s :SEMASK:CARR:POW?  
:SEM:OFFSET:FAIL? 
:SEM:OFFS7:MARGIN? 
:SEM:OFFS7:PEAK:LEVEL:LOWER?  
:SEM:OFFS7:PEAK:FREQ:UPPER?  
Software  
Controls  Reference, Results  
Couplings  None  
Preset   
Notes   
7.16.4  Marker  
The marker commands control the marker in spectrum emission mask mode .  
Command  :CALCulate: SEMask:MARKer:STATe ON|OFF|0|1  
:CALCulate: SEMask:MARKer:STATe?  
:CALCulate: SEMask:MARKer:DELTa ON|OFF|0|1  
:CALCulate: SEMask:MARKer:DELTa?  
:CALCulate: SEMask:MARKer:X <freq>  
:CALCulate: SEMask:MARKer:X?  
:CALCulate: SEMask:MARKer:Y?  
:CALCulate: SEMask:MARKer:MAXimum  
:CALCulate: SEMask:MARKer:MINimum  
:CALCulate: SEMask:MARKer:NEXT  
:CALCulate: SEMask:MARKer:PREVious  
Description  STATe , Turn the marker on/off.  
DELTa , When  delta is enabled, the delta reference takes the current marker position 
and the marker measurement returns the delta frequency and amplitude between 
the current marker position and the delta reference.  
X, Move the marker position to the specified frequency.  
X?, Retrieve the marker position frequency as Hz.  
Y?, Retrieve the marker position amplitude.  
MAXimum , Perform a peak search.  
MINimum , Perform a minimum search . 
NEXT , Move marker to next graph on plot.  
PREVious , Move marker to previous graph on plot.     
 
68 
 Example s CALC:SEM:MARK:STAT  ON 
CALC:SEM:MARK:X  1GHz 
CALC:SEM:MARK:DELT A ON 
CALC:SEM:MARK:Y?  
CALC:SEM:MARK:MAX  
CALC:SEM:MARK:NEXT  
Software  
Controls  Plot -> Left -Click  
Plot Context Menu -> Disable Marker  
Plot Context Menu -> Place Delta Marker  
Plot Context Menu -> Disable Delta Marker  
Plot -> Marker Readout  
Plot Context Menu -> Peak Search  
Plot Context Menu -> Minimum Search  
Plot -> Down  Arrow  
Plot -> Up Arrow  
Couplings   
Preset  Marker is  disabled . 
Notes  Changing the state of a marker will take effect immediately. For example, a peak 
search (MAXimum ) command will move the marker immediately and allow you to 
request the updated frequency and amplitude without needing to re -sweep.  
 
7.17 Noise Figure  
These commands control the receiver and measurement configuration and retrieve measurement 
results for the Noise Figure measurement mode.  
7.17.1  Configuration  
7.17.1.1  Frequency List  
These commands control the list of frequency points at which measurements will take place.  
Command  [:SENSe]: NFIGure:FREQuency:MODE SWEPt|FIXed  
[:SENSe]:NFIGure:FREQuency:MODE ? 
[:SENSe]:NFIGure :FREQuency:STARt <freq>  
[:SENSe]:NFIGure :FREQuency:STARt?  
[:SENSe] :NFIGure :FREQuency:STOP <freq>  
[:SENSe] :NFIGure :FREQuency:STOP?  
[:SENSe]:NFIGure :FREQuency:CENTer <freq>  
[:SENSe] :NFIGure :FREQuency:CENTer? [MIN|MAX]  
[:SENSe] :NFIGure :FREQuency:SPAN <freq>  
[:SENSe] :NFIGure :FREQuency:SPAN?  
[:SENSe] :NFIGure :FREQuency:POINts <int>  
[:SENSe] :NFIGure :FREQuency:POINts?  
[:SENSe]:NFIGure:FREQuency:FIXed <freq>  
[:SENSe]:NFIGure:FREQuency:FIXed ? 
[:SENSe]:NFIGure:FREQuency: LIST:DATA?     
 
69 
 Description  MODE , Set how the list of measurement frequencies is determined . In SWEPt , the 
points are linearly distributed between the Start  and Stop frequencies, with Points  
determining the number of points. In FIXed  mode, a single frequency is measured, 
specified by Fixed Freq . 
MODE?, Query how the list of measurement frequencies is determined . 
STARt , Change the measurement list start frequency  in Swept mode . The lower 
bound for the start frequency is determined with the CENT? MIN  command.  
STARt? , Query the current measurement list start frequency in Hz.  
STOP , Set the measurement list  stop frequency  in Swept mode . The upper bound for 
the stop frequency is determined with the CENT? MAX  command.  
STOP? , Query the current measurement list stop frequency in Hz.  
CENTer , Set the measurement list center frequency  in Swept mode . 
CENTer? , Query the current measurement list center frequency  in Hz. By passing 
the MIN or MAX arguments, the user can query the upper and lower frequency limits 
for a measurement . 
SPAN , Set the measurement list  span  in Swept mode . This will change the start/stop 
and potentially center frequency of the measurement list in attempt to meet the span 
requested.  
SPAN? , Query the measurement list span in Hz.  
POINts , Set the number of measurement points distributed across the Span  in 
Swept mode.  
POINts?, Query the number of measurement points.  
FIXed , Set the frequency of the measurement in Fixed mode.  
FIXed?, Query the frequency of the measurement in Hz.  
LIST:DATA? , Get the list of measurement frequencies in Hz.  
Example s SENSE:NFIGure :FREQUENCY:MODE SWEPt 
SENS:NFIG:FREQ:STAR 1GHz 
NFIG:FREQ:STOP 500MHz  
SENSE:NFIG:FREQUENCY:CENTER? MAX  
NFIG:FREQ:SPAN ? 
NFIG:FREQ:POIN 101  
NFIG:FREQ:FIX?  
NFIG:FREQ:LIST:DATA?  
Software  
Controls  Noise Figure Settings -> Frequency List -> Freq Mode  
Noise Figure Settings  -> Frequency  List -> Start  
Noise Figure Settings -> Frequency List -> Stop  
Noise Figure Settings -> Frequency List -> Center  
Noise Figure Settings -> Frequency List -> Span  
Noise Figure Settings -> Frequency List -> Points  
Noise Figure Settings -> Frequency List -> Fixed Freq  
Couplings  Start/Stop is coupled with Center/Span.  
Preset  11 points from 1 – 2 GHz.  
Notes  Changing any frequency list setting will invalidate the calibration (Cal State: Uncal) . 
    
 
70 
 7.17.1.2  Measurement  
Command  [:SENSe]:NFIGure:POWer[:RF]:RLEVel <double>  
[:SENSe]: NFIGure:POWer[:RF]:RLEVel?  
[:SENSe]:NFIGure:BANDwidth[:RESolution] <freq>|UP|DOWN  
[:SENSe]:NFIGure:BANDwidth[:RESolution]?  
[:SENSe]:NFIGure:BANDwidth[:RESolution]:AUTO ON|OFF|0|1  
[:SENSe]:NFIGure:BANDwidth[:RESolution]:AUTO?  
[:SENSe]:NFIGure:BANDwidth:VIDeo <freq>|UP|DOWN  
[:SENSe]:NFIGure:BANDwidth:VIDeo?  
[:SENSe]:NFIGure:BANDwidth:VIDeo:AUTO ON|OFF|0|1  
[:SENSe]:NFIGure:BANDwidth:VIDeo:AUTO?  
[:SENSe]:NFIGure[:MEAS]:SPAN <freq>  
[:SENSe]:NFIGure[:MEAS]:SPAN?  
[:SENSe]:NFIGure:AVERage[:STATe] ON|OFF| 0|1 
[:SENSe]:NFIGure:AVERage[:STATe]?  
[:SENSe]:NFIGure:AVERage:COUNt <integer>  
[:SENSe]:NFIGure:AVERage:COUNt?  
[:SENSe]:NFIGure:CORRection:TCOLd:VALue < double> 
[:SENSe]:NFIGure:CORRection:TCOLd:VALue?  
[:SENSe]:NFIGure: ALERt[:STATe] ON|OFF| 0|1 
[:SENSe]:NFIGure: ALERt[:STATe] ? 
[:SENSe]:NFIGure:CORRection:ENR:TABLe :COUNt? 
[:SENSe]:NFIGure:CORRection:ENR:TABLe: NEW 
[:SENSe]:NFIGure:CORRection:ENR:TABLe:LOAD[:ID] <integer>  
[:SENSe]:NFIGure:CORRection:ENR:TABLe [:ID]? 
[:SENSe]: NFIGure:CORRection:ENR:TABLe:TITLe <string>  
[:SENSe]:NFIGure:CORRection:ENR:TABLe:TITLe?  
[:SENSe]:NFIGure:CORRection:ENR:TABLe:POINts?  
[:SENSe]:NFIGure:CORRection:ENR:TABLe:DATA <freq1>, <enr1>, …  
[:SENSe]:NFIGure:CORRection:ENR:TABLe:DATA?  
[:SENSe]:NFIGure:CORRection:ENR:CALibration:TABLe[:ID] <integer>  
[:SENSe]:NFIGure:CORRection:ENR:CALibration:TABLe [:ID]? 
[:SENSe]:NFIGure:CORRection:ENR:MEASurement:TABLe [:ID] <integer> 
[:SENSe]:NFIGure:CORRection:ENR:MEASurement:TABLe [:ID]? 
Description  RLEVel , Specify the reference level of the measurement in dBm.  
RESolution , Specify the RBW. If UP or DOWN is specified, the RBW is stepped in 
a 1/3/10 sequence.  
RESolution :AUTO , Automatically choose the RBW.  
VIDeo , Specify the VBW. If UP or DOWN is specified, the VBW is stepped in a 
1/3/10 sequence.  
VIDeo:AUTO , Automatically choose the VBW.  
MEAS:SPAN , Specify the span of each sweep . 
AVERage , Specify whether multiple sweeps are averaged together . 
AVERage:COUNt , Specify the number of sweeps that are averaged together.  
AVERage:COUNt ?, Query the number of averaged sweeps.  
CORRection:TCOLd:VALue , Specify room temperature  in Kelvin . 
CORRection:TCOLd:VALue ?, Query room temperature.  
ALERt , Specify whether a series of beeps will play when a sweep has finished.  
ALERt?, Query whether an alert will play on sweep completion.     
 
71 
 CORRection:ENR:TABLe :COUNt?, Query the count of ENR tables, corresponding to 
noise sources . 
ENR:TABLe: NEW, Create a new ENR table . 
TABLe:LOAD , Load an ENR table by ID for programmatic access . 
TABLe?, Query the ID of the currently loaded ENR table . 
TABLe:TITLe , Set the title of the currently loaded ENR table . 
TABLe:TITLe? , Query the title of the loaded ENR table . 
TABLe:POINts? , Query the number of points in the loaded ENR table . 
TABLe:DATA , Set the (frequency, enr) points in the loaded ENR table . 
TABLe:DATA ?, Get the list of points in the loaded ENR table . 
CALibration:TABLe , Specify which ENR table will be used for calibration . 
CALibration:TABLe ?, Query the calibration ENR table . 
MEASurement:TABLe , Specify which ENR table will be used for measurement . 
MEASurement:TABLe ?, Query the measurement ENR table . 
Example s SENSE:NFIGURE :POWER:RF:RLEVEL 10  
NFIG:BANDWIDTH:RESOLUTION  10kHz 
SENS:NFIG:BAND:RES :AUTO ON  
NFIG:BAND:VID? 
NFIG:BAND:VID:AUTO OFF 
NFIG:MEAS:SPAN 4MHZ  
NFIG:AVERAGE ON  
NFIG:AVER:COUN 10  
NFIG:CORR:TCOLD:VAL 290.0  
NFIG:ALERt OFF 
NFIG:CORR:ENR:TABLE:COUNT?  
NFIG:CORR:ENR:TABLE:NEW  
NFIG:CORR:ENR:TABLE:LOAD 2 
NFIG:CORR:ENR:TABLE?  
NFIG:CORR :ENR:TABLE:TITLE Keysight 346B 123456789  
NFIG:CORR:ENR:TABLE:DATA  10000000,15.45,100e6,15.45  
NFIG:CORR:ENR:CAL:TABLE 3 
NFIG:CORR:ENR:MEAS:TABLE 1 
Software  
Controls  Noise Figure Settings -> Amplitude -> Ref Level  
Noise Figure Settings -> Bandwidth -> RBW  
Noise Figure Settings -> Bandwidth -> Auto RBW  
Noise Figure Settings -> Bandwidth -> VBW  
Noise Figure Settings -> Bandwidth -> Auto VBW  
Noise Figure Settings -> Measurement -> Meas Span  
Noise Figure Settings -> Measurement -> Averaging  
Noise Figure Settings -> Measurement -> Avg Number  
Noise Figure Settings -> Measurement -> Room Temp (K)  
Noise Figure Settings -> Measurement -> Play Alert  
Noise Figure Settings -> Measurement -> Noise Source (Cal)  
Noise Figure Settings -> Measurement -> Noise Source (Meas)  
Noise Figure Settings -> Measurement -> Manage ENR Tables  
Couplings  RBW is coupled with VBW and Meas Span. RBW will also have additional 
restrictions depending on the active device. If you are changing the meas span by    
 
72 
 more than a large factor (>2 -4) then it is suggested to set RBW and VBW to auto 
before changing meas span.  
Preset  RBW is set to auto by default.  
VBW is set to auto by default.  
Notes   
 
7.17.2  Calibration and Measurement  
Command  [:SENSe]:NFIGure:CALibration: STATe? 
[:SENSe]: NFIGure:CALibration:INITiate  
[:SENSe]:NFIGure:MEASurement:INITiate  
[:SENSe]:NFIGure:CONTinue  
[:SENSe]:NFIGure:ABORt  
:STATus:NFIGure: NEXT? 
:STATus:NFIGure: PROGress?  
Description  CALibration: STATe?, Returns the current cal  state. Possible values are  
- uncal – There is no valid calibration currently stored. High measurement 
error is likely unless the DUT has at least 30 dB gain.  
- semic al – There is a valid stored calibration, however the measurement 
accuracy has been reduced due to changes in the configuration since last 
cal. 
- cal – There is a valid stored calibration whose settings are identical to the 
current configuration.  
CALibration:INITiate , Begin calibration process . 
MEASurement:INITiate , Begin measurement process . 
CONTinue , Continue calibration or measurement after the next action has been 
taken . 
ABORt , Stop any calibration or measurement in progress . Corresponding data is not 
retained.  
NEXT? , Query the next action user needs to take before continuing measurement.  
PROGress? , Query the percentage progress of the current sweep. If there is no 
sweep currently in progress, this will return 100%. This is a more verbose alternative 
to simply waiting for sweep to finish with *OPC.  
Example s SENSE:NFIG :CAL:STAT?  
SENSE:NFIGURE :CALIBRATION:INITIATE  
NFIG:MEAS:INIT  
NFIG:CONT  
NFIG:ABORT  
STATUS:NFIG:NEXT?  
STAT:NFIG:PROG? 
Software  
Controls  Noise Figure Toolbar -> Cal State (Label)  
Noise Figure Toolbar  -> Calibrate (Button)  
Noise Figure Toolbar -> Measure (Button)  
Noise Figure Progress Dialog -> Abort (Button)  
Noise Figure Prompt Dialog -> Ok (Button)  
Noise Figure Progress Dialog -> Progress Bar     
 
73 
 Couplings   
Preset   
Notes   
 
7.17.3  Fetch Results  
Command  :FETCh:NFIGure? 
:FETCh:NFIGure:GAIN? 
Description  FETCh:NFIGure ?  Fetch the list of noise figure measurements for each point in the 
frequency list.  
FETCh:NFIGure:GAIN ?  Fetch the list of gain measurements for each point in the 
frequency list.   
Example s :FETCH:NFIG? 
:FETC:NFIG:GAIN?  
Software  
Controls  Noise Figure plot  
Gain plot  
Results table  
Couplings  None  
Preset   
Notes   
 
7.18 Bluetooth® Low Energy Measurements  
These commands control the receiver and measurement configuration and retrieve measurement 
results for the Bluetooth Low Energy measurement mode.  
7.18.1  Configuration  
7.18.1.1  Measurement  
Command  [SENSe]:BLE:MEAS DEMOD|IBE  
[SENSe]:BLE:MEAS? 
[SENSe]:BLE:FREQuency:CENTer <freq>  
[SENSe]:BLE:FREQuency:CENTer?  
[SENSe]:BLE:FREQuency: CENTer:STEP[:INCRement] <freq>  
[SENSe]:BLE:FREQuency: CENTer:STEP[:INCRement]?  
[SENSe]:BLE:IFBW <freq>  
[SENSe]:BLE:IFBW?  
[SENSe]:BLE:CHANnel:INDex <int>  
[SENSe]:BLE:CHANnel:INDex?  
[SENSe]:BLE:CHANnel:AUTO <bool>  
[SENSe]:BLE:CHANnel:AUTO?  
[SENSe]:BLE:POW[:RF]:RLEVel <double>  
[SENSe]:BLE:POW[:RF]:RLEVel?  
Description  MEAS , Specify the active Bluetooth measurement, demodulation vs in -band emission 
testing.     
 
74 
 CENTer , Specify the center frequency of the demodulation measurements.  
CENTer:STEP[:INCRement] , Specify the center frequency step size.  
IFBW , Specify the measurement bandwidth for demodulation measurements.  
CHANnel:INDex , When auto channel index is false, channel index is used to seed 
the PDU dewhitening.  
CHANnel:AUTO , When enabled, channel index is inferred from the center frequency.  
RLEVel , Specify the reference level of the measurement in dBm.  
Example s BLE:MEAS DEMOD 
BLE:FREQ:CENT 2.402GHz  
BLE:FREQ:CENT:STEP 2MHz  
BLE:IFBW 2.2MHz  
BLE:CHANNEL:INDEX 38  
BLE:CHANNEL:AUTO 1  
BLE:POW:RF:RLEVEL 10  
Software  
Controls  Bluetooth Low Energy Settings -> Measurement  
Bluetooth Low Energy Settings -> Carrier Freq  
Bluetooth Low Energy Settings -> Step Freq  
Bluetooth Low Energy Settings -> Bandwidth  
Bluetooth Low Energy Settings -> Channel Index  
Bluetooth Low Energy Settings -> Override Ch. Index  
Bluetooth Low Energy Settings -> Ref Level  
Couplings   
Preset   
Notes   
 
7.18.1.2  Trigger  
Command  :TRIGger: BLE:SLENgth <time>  
:TRIGger: BLE:SLENgth?  
Description  SLENgth , Specify the measurement capture length  in which to search for a 
Bluetooth Low Energy packet.  
Example s :TRIG:WLAN:SLEN 100ms  
Software  
Controls  Bluetooth Low Energy  Settings -> Search Len  
 
Couplings  None  
Preset   
Notes   
 
7.18.2  Fetch Results  
Command  :FETCh:BLE? <int> 
Description  FETCh:BLE,  Fetch Bluetooth Low Energy  demodulation metrics. The integer 
parameter specifies the metric to retrieve. Possible integer values are below. Can 
specify a list of metrics to request as comma separated list. The metrics will be 
returned as a comma separated list in the order they wer e requested.     
 
75 
  
1. Average count for output power TRM measurements (as int)  
2. Total average output power as dBm 
3. Max average power as  dBm 
4. Peak power of last measurement as  dBm 
5. Avg power of last measurement as  dBm 
6. Pk – Avg power  of last measurement  as dBm 
 
100. f1 Avg as  Hz 
101. f2 Avg as  Hz 
102. f2 Max ratio as  double  
103. f2 / f1 as  double  
 
200. CFO and drift measurement count as int  
201. Preamble CFO as  Hz 
202. Max CFO as  Hz 
203. Max drift as  Hz 
204. Max drift / 50us as  Hz 
205. Max overall CFO as  Hz 
206. Max overall drift as Hz 
207. Max overall drift / 50us as  Hz 
 
300. Pass fail status for in -band emissions (IBE) measurement , false if measurement 
not performed.  
301. IBE tx channel as int , -1 if measurement not performed.  
302. IBE peak power as  dBm, 0 if measurement not performed.  
303. IBE adjacent power lower as  dBm, 0 if measurement not performed.  
304, IBE adjacent power upper as  dBm, 0 if measurement not performed.  
305. IBE failed channels as int , -1 if measurement not performed.  
 
400. PDU type as string  
403. Access address bits as binary string  
404. PDU bits as binary string  (de-whitened if applicable)  
403. Full packet bits as binary string (not de -whitened or decoded)  
Example s :FETC:BLE 1,2,3,4,5,6  
:FETC:BLE 1 
Software  
Controls  Transmitter characteristics and in band emissions measurement results windows.  
Couplings  None  
Preset   
Notes   
 
7.19 WLAN Measurements  
These commands control the receiver and measurement configuration in the WLAN 
measurement mode.     
 
76 
 7.19.1  Configuration  
7.19.1.1  Measurement  
These commands affect the demodulation and receiver parameters of the measurement.  
Command  [:SENSe]:WLAN:STANdard BG | AG | N20 | N40 | AC20 | AC40  | AH 
[:SENSe]:WLAN:STANdard?  
[:SENSe]:WLAN:SYMbols:DSSS <int>  
[:SENSe]:WLAN:SYMbols:DSSS?  
[:SENSe]:WLAN:PSDU:DECode <bool>  
[:SENSe]:WLAN:PSDU:DECode?  
[:SENSe]:WLAN:SYMBol:OFFSet <double>  
[:SENSe]:WLAN:SYMBol:OFFSet?  
[:SENSe]:WLAN :FREQuency:CENTer <freq>  
[:SENSe]:WLAN:FREQuency:CENTer?  
[:SENSe]: WLAN:FREQuency:CENTer:STEP[:INCRement] <freq>  
[:SENSe]:WLAN:FREQuency:CENTer:STEP[:INCRement]?  
[:SENSe]:WLAN:IFBW <freq>  
[:SENSe]:WLAN:IFBW?  
[:SENSe]:WLAN:POWer[:RF]:RLEVel <double>  
[:SENSe]:WLAN:POWer[:RF]:RLEVel?  
Description  STANdard , Select the WLAN modulation standard.  
SYMbols:DSSS , Specify how many DSSS symbols to demodulate/decode.  
PSDU:DECode , Enable OFDM PSDU decoding for BCC encoded waveforms.  
SYMBol:OFFSet , Specify a GI timing offset between -100 and 0  (%)  
CENTer , Specify the center frequency of the WLAN measurement.  
CENTer:STEP[:INCRement] , Specify the center frequency step size.  
IFBW , Specify the IF bandwidth of the measurement. This is applied as a low pass 
filter before the WLAN d emodulation occurs.  
POWer[:RF]:RLEVel , Specify the reference level of the measurement  in dB m. This 
controls the sensitivity of the measurement.  
Example s :WLAN:STAN N20  
:WLAN:SYM:DSSS 512  
:WLAN:PSDU:DEC 0 
:WLAN:SYMBOL:OFFSET -25 
:WLAN:FREQ:CENT 2.442GHz  
:WLAN:FREQ:CENT:STEP 20MHz  
:WLAN:IFBW 20MHz  
:WLAN:POW:RLEV -20 
Software  
Controls  WLAN Settings  -> Standard  
WLAN Settings -> Max DSSS Syms  
WLAN Settings -> Decode PSDU  
WLAN Settings -> Symbol Offset  
WLAN Settings  -> Carrier Freq  
WLAN Settings  -> Step Freq  
WLAN Settings -> IF BW  
WLAN Settings -> Ref Level     
 
77 
 Couplings  None  
Preset  Symbol Offset = -50% 
Notes   
 
7.19.1.2  Trigger  
These commands affect the triggering and capturing parameters of the measurement.  
Command  :TRIGger:WLAN:SLENgth <time>  
:TRIGger:WLAN:SLENgth?  
:TRIGger :WLAN:IF:THRESHold <double>  
:TRIGger:WLAN:IF:THRESHold?  
:TRIGger:WLAN:IF:LEVel <double>  
:TRIGger:WLAN:IF:LEVel?  
Description  SLENgth , Specify the measurement capture length.  
IF:THRESHold , Specify the OFDM trigger threshold in dB.  
IF:LEVel , Specify the DSSS video trigger level in dBm.  
Example s :TRIG:WLAN:SLEN  100ms 
:TRIG:WLAN:IF:THRESHOLD 10 
:TRIG:WLAN:IF:LEV -40 
Software  
Controls  WLAN Settings -> Search Len  
WLAN Settings -> OFDM Trig Threshold  
WLAN Settings -> DSSS Trig Level  
Couplings  None  
Preset   
Notes   
 
7.19.2  Fetch Results  
This command is used to retrieve the results of a WLAN measurement.  
Command  :FETCh:WLAN? <int>  
Description  FETCh:WLAN ,  Fetch WLAN demodulation metrics. The integer parameter specifies 
the metric to retrieve. Possible integer values are below. Can specify a list of metrics 
to request as comma separated list. The metrics will be returned as a comma 
separated list in the order they were requested.  
 
When the WLAN standard is set to 802.11 a/n/ac /ah, the integers below correspond 
to the following measurement results.  
 
1. Modulation as text  
2. Modulation encoding as text  
3. Guard interval as text  
4. Frequency error as Hz  
5. EVM as %     
 
78 
 6. EVM as dB  
7. Avg Power as dBm  
8. Peak Power as dBm  
9. Crest factor  
10. Initial scrambler state  
11. Symbol count  
12. Payload bit count  
13. Sample rate error as ppm  
14. Bandwidth as MHz. For WLAN -AH, this is the detected BW of the measured 
packet.  
 
When the WLAN standard is set to 802.11 b, the integers below correspond to the 
following measurement results.  
 
1. Modulation as text  
2. Preamble as text  
3. Payload bit count  
4. EVM as %  
5. EVM as dB  
6. Freq error as Hz  
7. Avg power as dBm  
8. Peak power as dBm  
9. Crest factor  
 
Example s :FETC:WLAN 1,2,3,4,5,6  
:FETC:WLAN 1  
Software  
Controls   
Couplings  None  
Preset   
Notes   
 
7.20 LTE Measurements  
Both single frequency  and scanning LTE measurements can be performed with the SCPI 
commands. Configuration  of the scan bands themselves cannot be performed  via SCPI . For that 
reason, we recommend configuring a preset with the desired scan bands ahead of time and using 
SCPI to load that preset. Once the preset is loaded, scans can be manually performed,  and the 
cell search results table can be queried  with the FETCH command. Single frequency 
measurements can be performed,  and most demodulation values can be retrieved with the 
FETCH command.  
7.20.1  Configuration  
Command  [:SENSe]: LTE:FREQuency:CENTer <freq>     
 
79 
 [:SENSe]: LTE:FREQuency:CENTer?  
[:SENSe]:LTE:FREQuency:CENTer:STEP[:INCRement] <freq>  
[:SENSe]:LTE:FREQuency:CENTer:STEP[:INCRement]?  
[:SENSe]:LTE:CORRelation:THREShold <double>  
[:SENSe]:LTE:CORRelation:THREShold?  
[:SENSe]:LTE: POW[:RF]:RLEVel <double>  
[:SENSe]:LTE:POW[:RF]:RLEVel?  
[:SENSe]:LTE:MEAS:INClude <bool>  
[:SENSe]:LTE:MEAS:INClude?  
 
[:SENSe]:LTE:SCAN:TYPE SINGle|CONTinuous  
[:SENSe]:LTE:SCAN:TYPE?  
[:SENSe]:LTE:SCAN:RESults:SORT  RSSI|FREQuency|TIME  
[:SENSe]:LTE:SCAN:RESults:SORT?  
[:SENSe]:LTE:SCAN:RESults:KEEP  LAST|PEAK  
[:SENSe]:LTE:SCAN:RESults:KEEP?  
[:SENSe]:LTE:SCAN:RESults:GROUP <bool>  
[:SENSe]:LTE:SCAN:RESults:GROUP?  
[:SENSe]:LTE:SCAN:RESults:MAX <int>  
[:SENSe]:LTE:SCAN:RESults:MAX?  
[:SENSe]:LTE:SCAN:STARt?  
[:SENSe]:LTE:SCAN:ACTive?  
[:SENSe]:LTE:SCAN:STOP?  
 
[:SENSe]:LTE:SCAN:RESults:COUNt?  
[:SENSe]:LTE:SCAN:RESults:INDEX  <int> 
[:SENSe]:LTE:SCAN:RESults:INDEX?  
[:SENSe]:LTE:SCAN:RESults:CLEar  
Description  CENTER , Set the center frequency of the single frequency  LTE measurement.  
STEP , Set the frequency step. Stepping not available via SCPI, use FREQ:CENTER 
directly.   
RLEVel , Set the reference level  (in dBm)  for the single frequency  LTE 
measurement.  
THREShold , Set the cell search correlation threshold. Must be between 0 and 1.  
INClude , When enabled, single frequency measurements are included in the cell 
search results.  
TYPE , Set whether the configured scan occurs once or continuously per “start scan”.  
SORT , Determines how the cell search result entries are sorted.  
KEEP , When cell search results are grouped, determines which measurement is 
displayed for that given grouping.  
GROUP , Enables cell search result grouping.  
MAX, Determines the maximum number of entries visible in the cell search results 
window.  
START? , Starts the scan, returns 1 once the scan has been started.  
ACTIVE? , Returns 1 if the scan is active.  
STOP? , Stops the scan. Returns 1 when complete.     
 
80 
 COUNT? , Returns the number of rows in the cell scan results table.  
INDEX , Set the index into the cell scan results table to be used with the FETCH 
command.  
CLEAR , Clears the cell search results table.  
Example s :LTE:FREQ:CENTER 751MHz  
:LTE:POW:RF:RLEVEL -20 
:LTE:MEAS:INCLUDE 1  
 
:LTE:SCAN:TYPE SINGLE  
:LTE:SCAN:RESULTS:SORT FREQ  
:LTE:SCAN:RES:KEEP PEAK  
:LTE:SCAN:RES:GROUP 1  
:LTE:SCAN:RESULTS:MAX 100  
 
:LTE:SCAN: START? 
:LTE:SCAN:ACTIVE?  
:LTE:SCAN:STOP?  
Software  
Controls  LTE Settings -> Center Freq  
LTE Settings -> Freq Step  
LTE Settings -> Ref Level  
LTE Settings -> Include in Results  
 
LTE Scan Settings -> Scan Type  
LTE Scan Settings -> Sort By  
LTE Scan Settings -> Keep  
LTE Scan Settings -> Group Results  
LTE Scan Settings -> Max Results  
LTE Scan Settings -> Start Scan  
LTE Scan Settings -> Stop Scan  
 
LTE Cell Search Results -> File -> Clear  
Couplings  None  
Preset   
Notes  We recommend the s can not being active when querying the COUNT? or setting the 
scan table INDEX, as if a scan is active the cell search results table can be 
continuously changing.  
 
7.20.2  Fetch Results  
This function is used to retrieve measurement results from both single frequency  and scanni ng 
LTE measurements. Fetch commands do not perform the actual measurement , only retrieves the 
measurement result . We recommend the measurement be in an idle state when querying results. 
This ensures measurement values are not being updated mid -way through a fetch query . 
Command  :FETCh:LTE? <int>     
 
81 
 Description  LTE? , Fetch LTE measurement value. The integer parameter specifies the value  to 
retrieve. Possible integer values are below. Can specify a list of metrics to request 
as comma separated list. The metrics will be returned as a comma separated list in 
the order they were requested.  
 
The follow ing parameters retrieve measurements from the single frequency LTE 
result.  
 
1. Frequency of measurement  
2. Channel power as dBm  
3. Peak power  
4. Peak to average power ratio  
5. RSSI  
6. RSRP  
7. RSRQ  
8. Freq error  
9. Correlation result  
10. PSS EVM  
11. PBCH EVM  
 
50. GPS Latitude  
51. GPS Longitude  
100. Phy. Cell ID  
101. Phy. Group ID  
102. Phy. Sector ID  
103. Bandwidth  
104. Duplex Mode  
105. Cyclic Prefix  
106. Number of ports  
107. PHICH  
108. Ng 
109. Frame number  
 
150. MIB bits  
 
200. SIB1 Valid  
201. EARFCN  
202. TAC 
203. Cell ID  
204. Cell Barred  
 
210. PLMN Count  
211. MCC #1  
212. MNC #1  
213. Country String #1  
214. Network String #1  
215. MCC #2     
 
82 
 216. MNC #2  
217. Country String #2  
218. Network String #2  
219. MCC #3  
220. MNC #3  
221. Country String #3  
222. Network String #3  
223. MCC #4  
224. MNC #4  
225. Country String #4  
226. Network String #4  
 
250. SIB1 bits  
 
The following parameters retrieve measurements from the cell search results table. 
Which row the results are retrieved from are determined by the index specified with 
the LTE:SCAN:RESULTS:INDEX command.  
 
301. Frequency  
302. EARFCN  
303. RSSI  
304. RSRP  
305. RSRQ  
306. Cell ID  
307. Phy. Cell ID  
308. Bandwidth  
309. Duplex Mode  
310. # of ports  
311. PLMN Count  
312. MCC #1  
313. MNC #1  
314. Country String #1  
315. Network String #1  
316. Time  as milliseconds since epoch  
 
319. GPS Latitude  
320. GPS Longitude  
 
Example s :FETCH:LTE? 1,2,3,4,5,6,7,8  
Software  
Controls  N/A 
Couplings  None  
Preset   
Notes   
    
 
83 
 7.21 VCO Characterization  
7.21.1  Configuration  
These commands control the configuration of the measurement in VCO Characterization mode.  
7.21.1.1  Sweep  
Command  [:SENSe]: VCO:SWEep:SOURce? 
[:SENSe]: VCO:SWEep:STARt <double> 
[:SENSe]: VCO:SWEep:STARt? 
[:SENSe]:VCO: SWEep:STOP <double> 
[:SENSe]:VCO: SWEep:STOP? 
[:SENSe]:VCO: SWEep:POINts <int> 
[:SENSe]:VCO: SWEep:POINts? 
[:SENSe]:VCO: SWEep[:RF]:RLEVel <double>  
[:SENSe]:VCO: SWEep[:RF]:RLEVel?  
[:SENSe]:VCO:SWEep:FREQuency:BAND:AUTO ON|OFF|0|1  
[:SENSe]:VCO:SWEep:FREQuency:BAND:AUTO?  
[:SENSe]:VCO: SWEep:FREQuency:BAND:STARt  <freq> 
[:SENSe]:VCO: SWEep:FREQuency:BAND:STARt ? 
[:SENSe]:VCO: SWEep:FREQuency:BAND:ST OP <freq>  
[:SENSe]:VCO: SWEep:FREQuency:BAND:ST OP? 
[:SENSe]:VCO: SWEep:FCOunter:RESolution  <freq> 
[:SENSe]:VCO: SWEep:FCOunter:RESolution ? 
[:SENSe]:VCO: SWEep:CHPower:WIDth  <freq> 
[:SENSe]:VCO: SWEep:CHPower:WIDth ? 
[:SENSe]:VCO: SWEep:DELay <double>  
[:SENSe]:VCO: SWEep:DELay? 
Description  STARt, Set the starting voltage for the sweep  in volts .  
STOP , Set the stopping voltage for the sweep  in volts . 
POINts, Set the number of points to measure .  
RLEVel, Set the reference level  as dBm . 
BAND:AUTO , Set whether the frequency band search range is automaticaly 
configured.  
BAND:STARt, Set the start frequency of the search range.  
BAND:STOP , Set the stop frequency  of the search range.  
RESolution , Set the frequency resolution of each measurement . This is effectively 
the RBW of the measurement sweep performed at each point.  
CHPower:WIDth , Set the width of the channel for power and harmonics 
measurements. . 
DELay, Set the dwell time for each measurement, or the pause between setting 
PN400 voltage and measuring VCO output.  
Example s :VCO:SWEep:STARt -1.25 
:VCO:SWEep:STOP 17.50 
:VCO:SWEep:POINTS 100 
:VCO:SWEep:RF:RLEVEL -20 
:VCO:SWEep:FREQ:BAND:AUTO ON     
 
84 
 :VCO:SWEep:FREQ:BAND:START 1GHZ  
:VCO:SWEep:FREQ:BAND:STOP 2GHZ  
:VCO:SWEep:FCO:RES 10KHZ 
:VCO:SWEep:CHP:WID 1MHZ 
:VCO:SWEep:DEL 1 
Software  
Controls  VCO Settings -> Sweep -> Start  
VCO Settings -> Sweep -> Stop  
VCO Settings -> Sweep -> Meas Points  
VCO Settings -> Sweep -> Ref Level  
VCO Settings -> Sweep -> Auto Freq Band  
VCO Settings -> Sweep -> Freq Start  
VCO Settings -> Sweep -> Freq Stop  
VCO Settings -> Sweep -> Freq Resolution  
VCO Settings -> Sweep -> Channel Power Width  
VCO Settings -> Sweep -> Dwell Time  
Couplings  None  
Preset   
Notes   
 
7.21.1.2  DC Source  
Command  [:SENSe]:VCO:SOURce :VOLTage[:STATe]  ON|OFF|0|1  
[:SENSe]:VCO:SOURce:VOLTage[:STATe] ? 
[:SENSe]:VCO: SOURce:VOLTage:FIXed[:LEVel]  <double>  
[:SENSe]:VCO: SOURce:VOLTage:FIXed[:LEVel] ? 
[:SENSe]:VCO:SOURce:VOLTage:VTUNe[:LEVel]:LIMit:LOW <double>  
[:SENSe]:VCO:SOURce:VOLTage:VTUNe[:LEVel]:LIMit:LOW?  
[:SENSe]:VCO:SOURce:VOLTage:VTUNe[:LEVel]:LIMit:HIGH <double>  
[:SENSe]:VCO:SOURce:VOLTage:VTUNe[:LEVel]:LIMit:HIGH?  
[:SENSe]:VCO:SOURce:VOLTage:VSUPply[:LEVel]:LIMit:LOW <double>  
[:SENSe]:VCO:SOURce:VOLTage:VSUPply[:LEVel]:LIMit:LOW?  
[:SENSe]:VCO:SOURce:VOLTage:VSUPply[:LEVel]:LIMit:HIGH <double>  
[:SENSe]:VCO:SOURce:VOLTage:VSUPply[:LEVel]:LIMit:HIGH?  
Description  STATE , Enable or disable overall DC power.  
FIXED:LEVEL , Set the output level of the fixed power source in volts .  
VTUNE:LIMIT:LOW , Set the minimum output level  of the V Tune port in volts . 
VTUNE:LIMIT: HIGH , Set the maximum output level of the V Tune port in volts.  
VSUPply:LIMIT:LOW, Set the minimum output level of the V Supply  port in volts.  
VSUPply:LIMIT: HIGH , Set the maximum  output level of the V Supply  port in volts.  
Example s :VCO:SOUR:VOLT ON 
:VCO:SOUR:VOLT:FIX  5.25 
:VCO:SOUR:VOLT:VTUN:LIM:LOW  -1.0 
:VCO:SOUR:VOLT:VTUN:LIM:HIGH 28.0  
:VCO:SOUR:VOLT:VSUPply:LIM:LOW 0.5  
:VCO:SOUR:VOLT:VSUPply:LIM:HIGH 15.25  
Software  
Controls  VCO Settings -> DC Source  -> DC Power  
VCO Settings -> DC Source  -> Fixed     
 
85 
 VCO Settings -> DC Limits  -> V Tune Min  
VCO Settings -> DC Limits -> V Tune Max  
VCO Settings -> DC Limits -> V Supply Min  
VCO Settings -> DC Limits -> V Supply Max  
Couplings  None  
Preset   
Notes   
 
7.21.2  Fetch Results  
This function is used to retrieve measurement results from VCO characterization measurements. 
Fetch commands do not perform the actual measurement, only retrieves the measurement result. 
We recommend the measurement be in an idle state when querying results. This ensures 
measurement values are not being updated mid -way through a fetch query.  
These commands all return sweep data as a list of comma separated ascii floating point values.  
For example,  
-107.12,-88.4,-30.72,-91.94,-111.6,… 
To determine the voltage of any given point in the sweep, use the SWEEP:START? , 
SWEEP:STOP? , and SWEEP:POINTS? commands . The frequency of a given point is given by the 
equation,  
Frequency of j’th point = START + j * (STOP - START) / POINTS  
where j is a zero based  index into the array of sweep points.  
Command  :FETCh:VCO:FREQuency ? 
:FETCh:VCO: SENSitivity ? 
:FETCh:VCO: POWer? 
:FETCh:VCO: CURRent? 
:FETCh:VCO: HARMonics ? <int> 
Description  FREQuency ?, Fetch the frequency vs. voltage measurement data.  
SENSitivity ?, Fetch the frequency delta vs. voltage delta measurement data.  
POWer?, Fetch the amplitude vs. voltage measurement data.  
CURRent?, Fetch the current vs. voltage measurement data.  
HARMonics ?, Fetch the harmonic amplitude vs. voltage measurement data. The 
integer parameter specifies the harmonic to retrieve. Possible integer values are 1 – 
6. 
Example s :FETCh:VCO: FREQ? 
:FETCh:VCO: SENS? 
:FETCh:VCO: POW?    
 
86 
 :FETCh:VCO: CURR? 
:FETCh:VCO: HARM? 3 
Software  
Controls  N/A 
Couplings  None  
Preset   
Notes   
 
7.22 Audio Player  
These commands control the audio player utility in Spike. The audio player can be started and 
stopped using these commands. The demodulation parameters can also be adjusted.  
7.22.1  Configuration  
Command  [:SENSe]:AUDio:STARt  
[:SENSe]:AUDio:STOP  
[:SENSe]:AUDio:FREQuency:CENTer <frequency>  
[:SENSe]:AUDio:FREQuency:CENTer?  
[:SENSe]:AUDio:MOD AM|FM|LSB|USB|CW  
[:SENSe]:AUDio:MOD?  
[:SENSe]:AUDio:BANDwidth:IF <frequency>  
[:SENSe]: AUDio:BANDwidth:IF?  
[:SENSe]:AUDio:BANDwidth:LOW <frequency>  
[:SENSe]:AUDio:BANDwidth:LOW?  
[:SENSe]:AUDio:BANDwidth:HIGH <frequency>  
[:SENSe]:AUDio:BANDwidth:HIGH?  
[:SENSe]:AUDio:FM:DEEMphasis <double>  
[:SENSe]:AUDio:FM:DEEMphasis?  
Description  STARt , Open the audio player. If the audio player is already open, does nothing.  
STOP , Closes the audio player. If the audio player is already closed, does nothing.  
CENTer , Set the center frequency of the audio player.  
MOD, Set the audio demodulation type.  
IF, Set the IF bandwidth of the audio player. This is the filter applied before audio 
demodulation.  
LOW, Set the audio low pass filter.  
HIGH , Set the audio high pass filter.  
DEEMphasis , Set the FM deemphasis in us.  
Example s :AUDIO:START  
:AUDIO:STOP  
:AUDIO:MOD FM  
:AUDIO:FREQ:CENTER 97.0MHz  
:AUDIO:BAND:IF 120kHz  
:AUDIO:BAND:LOW 10kHz  
:AUDIO:BAND:HIGH 100HZ  
:AUDIO:FM:DEEMPHASIS 75     
 
87 
 Software  
Controls  Utilities -> Audio Player  
Audio Player -> Center Frequency  
Audio Player -> Audio Type  
Audio Player -> Bandwidth  
Audio Player -> Low Pass  
Audio Player -> High Pass  
Audio Player -> Deemphasis  
Couplings  None  
Preset   
Notes  While the audio player is open, only commands in the audio subsystem should be 
sent to the Spike software.  
 